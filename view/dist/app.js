!function o(s,a,c){function u(e,t){if(!a[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[e]={exports:{}};s[e][0].call(i.exports,function(t){return u(s[e][1][t]||t)},i,i.exports,o,s,a,c)}return a[e].exports}for(var l="function"==typeof require&&require,t=0;t<c.length;t++)u(c[t]);return u}({1:[function(t,e,n){function s(){}e.exports=function(t,n,r){var i=!1;return r=r||s,0===(o.count=t)?n():o;function o(t,e){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,n(t),n=r):0!==o.count||i||n(null,e)}}},{}],2:[function(t,e,n){e.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),r<n&&(n=r),r<=e||n<=e||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},{}],3:[function(t,e,n){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=0<t.jitter&&t.jitter<=1?t.jitter:0,this.attempts=0}(e.exports=r).prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}},{}],4:[function(t,e,n){!function(){"use strict";for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=new Uint8Array(256),t=0;t<o.length;t++)h[o.charCodeAt(t)]=t;n.encode=function(t){var e,n=new Uint8Array(t),r=n.length,i="";for(e=0;e<r;e+=3)i+=o[n[e]>>2],i+=o[(3&n[e])<<4|n[e+1]>>4],i+=o[(15&n[e+1])<<2|n[e+2]>>6],i+=o[63&n[e+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(t){var e,n,r,i,o,s=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),l=new Uint8Array(u);for(e=0;e<a;e+=4)n=h[t.charCodeAt(e)],r=h[t.charCodeAt(e+1)],i=h[t.charCodeAt(e+2)],o=h[t.charCodeAt(e+3)],l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return u}}()},{}],5:[function(t,e,n){"use strict";n.byteLength=function(t){var e=h(t),n=e[0],r=e[1];return 3*(n+r)/4-r},n.toByteArray=function(t){for(var e,n=h(t),r=n[0],i=n[1],o=new l(function(t,e,n){return 3*(e+n)/4-n}(0,r,i)),s=0,a=0<i?r-4:r,c=0;c<a;c+=4)e=u[t.charCodeAt(c)]<<18|u[t.charCodeAt(c+1)]<<12|u[t.charCodeAt(c+2)]<<6|u[t.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=255&e;2===i&&(e=u[t.charCodeAt(c)]<<2|u[t.charCodeAt(c+1)]>>4,o[s++]=255&e);1===i&&(e=u[t.charCodeAt(c)]<<10|u[t.charCodeAt(c+1)]<<4|u[t.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=255&e);return o},n.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(c(t,o,s<o+16383?s:o+16383));1==r?(e=t[n-1],i.push(a[e>>2]+a[e<<4&63]+"==")):2==r&&(e=(t[n-2]<<8)+t[n-1],i.push(a[e>>10]+a[e>>4&63]+a[e<<2&63]+"="));return i.join("")};for(var a=[],u=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)a[i]=r[i],u[r.charCodeAt(i)]=i;function h(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var r,i,o=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(a[(i=r)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return o.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}],6:[function(t,e,n){var r=void 0!==r?r:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),o=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),s=r&&r.prototype.append&&r.prototype.getBlob;function a(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t})}function c(t,e){e=e||{};var n=new r;return a(t).forEach(function(t){n.append(t)}),e.type?n.getBlob(e.type):n.getBlob()}function u(t,e){return new Blob(a(t),e||{})}"undefined"!=typeof Blob&&(c.prototype=Blob.prototype,u.prototype=Blob.prototype),e.exports=i?o?Blob:u:s?c:void 0},{}],7:[function(t,e,n){},{}],8:[function(t,e,I){(function(h){"use strict";var r=t("base64-js"),o=t("ieee754");I.Buffer=h,I.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},I.INSPECT_MAX_BYTES=50;var n=2147483647;function s(t){if(n<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=h.prototype,e}function h(t,e,n){if("number"!=typeof t)return i(t,e,n);if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}function i(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!h.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|f(t,e),r=s(n),i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return u(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(F(t,ArrayBuffer)||t&&F(t.buffer,ArrayBuffer))return function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n);return r.__proto__=h.prototype,r}(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return h.from(r,e,n);var i=function(t){if(h.isBuffer(t)){var e=0|l(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||L(t.length)?s(0):u(t);if("Buffer"===t.type&&Array.isArray(t.data))return u(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return h.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return a(t),s(t<0?0:0|l(t))}function u(t){for(var e=t.length<0?0:0|l(t.length),n=s(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function l(t){if(n<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|t}function f(t,e){if(h.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||F(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(i)return r?-1:N(t).length;e=(""+e).toLowerCase(),i=!0}}function d(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function p(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),L(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=h.from(e,r)),h.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a/=s=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(a<n+c&&(n=a-c),o=n;0<=o;o--){for(var h=!0,f=0;f<c;f++)if(u(t,o+f)!==u(e,f)){h=!1;break}if(h)return o}return-1}function m(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?i<(r=Number(r))&&(r=i):r=i;var o=e.length;o/2<r&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(L(a))return s;t[n+s]=a}return s}function _(t,e,n,r){return O(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function y(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function b(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,u=t[i],l=null,h=239<u?4:223<u?3:191<u?2:1;if(i+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[i+1]))&&127<(c=(31&u)<<6|63&o)&&(l=c);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&2047<(c=(15&u)<<12|(63&o)<<6|63&s)&&(c<55296||57343<c)&&(l=c);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)&&c<1114112&&(l=c)}null===l?(l=65533,h=1):65535<l&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=v)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=v));return n}(r)}I.kMaxLength=n,(h.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=function(t,e,n){return i(t,e,n)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(t,e,n){return function(t,e,n){return a(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},h.allocUnsafe=function(t){return c(t)},h.allocUnsafeSlow=function(t){return c(t)},h.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==h.prototype},h.compare=function(t,e){if(F(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),F(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var n;if(void 0===e)for(n=e=0;n<t.length;++n)e+=t[n].length;var r=h.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(F(o,Uint8Array)&&(o=h.from(o)),!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},h.byteLength=f,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?b(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return x(this,e,n);case"utf8":case"utf-8":return b(this,e,n);case"ascii":return w(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return y(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",e=I.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},h.prototype.compare=function(t,e,n,r,i){if(F(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=e)return 0;if(i<=r)return-1;if(n<=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(r,i),u=t.slice(e,n),l=0;l<a;++l)if(c[l]!==u[l]){o=c[l],s=u[l];break}return o<s?-1:s<o?1:0},h.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},h.prototype.indexOf=function(t,e,n){return p(this,t,e,n,!0)},h.prototype.lastIndexOf=function(t,e,n){return p(this,t,e,n,!1)},h.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||i<n)&&(n=i),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,s,a,c,u,l,h,f,d,p=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return f=e,d=n,O(N(t,(h=this).length-f),h,f,d);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return c=this,u=e,l=n,O(z(t),c,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s=e,a=n,O(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,(o=this).length-s),o,s,a);default:if(p)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),p=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var v=4096;function w(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function x(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=e;o<n;++o)i+=T(t[o]);return i}function C(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function E(t,e,n,r,i,o){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function B(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function S(t,e,n,r,i){return e=+e,n>>>=0,i||B(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function R(t,e,n,r,i){return e=+e,n>>>=0,i||B(t,0,n,8),o.write(t,e,n,r,52,8),n+8}h.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=h.prototype,r},h.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},h.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var r=this[t+--e],i=1;0<e&&(i*=256);)r+=this[t+--e]*i;return r},h.prototype.readUInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*e)),r},h.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var r=e,i=1,o=this[t+--r];0<r&&(i*=256);)o+=this[t+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*e)),o},h.prototype.readInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){t>>>=0,e||A(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt16BE=function(t,e){t>>>=0,e||A(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return t>>>=0,e||A(t,4,this.length),o.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return t>>>=0,e||A(t,4,this.length),o.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return t>>>=0,e||A(t,8,this.length),o.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return t>>>=0,e||A(t,8,this.length),o.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||E(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},h.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||E(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;0<=--i&&(o*=256);)this[e+i]=t/o&255;return e+n},h.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||E(this,t,e,1,255,0),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||E(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||E(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||E(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},h.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||E(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);E(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},h.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);E(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;0<=--o&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},h.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||E(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||E(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||E(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||E(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},h.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||E(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeFloatLE=function(t,e,n){return S(this,t,e,!0,n)},h.prototype.writeFloatBE=function(t,e,n){return S(this,t,e,!1,n)},h.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},h.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},h.prototype.copy=function(t,e,n,r){if(!h.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n=n||0,r||0===r||(r=this.length),e>=t.length&&(e=t.length),e=e||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,r);else if(this===t&&n<e&&e<r)for(var o=i-1;0<=o;--o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,r),e);return i},h.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var i=t.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(o=e;o<n;++o)this[o]=t;else{var s=h.isBuffer(t)?t:h.from(t,r),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var e=/[^+/0-9A-Za-z-_]/g;function T(t){return t<16?"0"+t.toString(16):t.toString(16)}function N(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if(55295<(n=t.charCodeAt(s))&&n<57344){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(e,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function O(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function F(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function L(t){return t!=t}}).call(this,t("buffer").Buffer)},{"base64-js":5,buffer:8,ieee754:32}],9:[function(t,e,n){var r=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},{}],10:[function(t,e,n){e.exports=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],11:[function(t,e,n){e.exports=t("./vendor/dat.gui"),e.exports.color=t("./vendor/dat.color")},{"./vendor/dat.color":12,"./vendor/dat.gui":13}],12:[function(t,e,n){var o,r,i,s,a,c,u,l,h,f,d,p,g,m=e.exports=m||{};function _(){if(this.__state=s.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1}function y(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space||v(this,e,n),this.__state[e]},set:function(t){"RGB"!==this.__state.space&&(v(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function b(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space||w(this),this.__state[e]},set:function(t){"HSV"!==this.__state.space&&(w(this),this.__state.space="HSV"),this.__state[e]=t}})}function v(t,e,n){if("HEX"===t.__state.space)t.__state[e]=a.component_from_hex(t.__state.hex,n);else{if("HSV"!==t.__state.space)throw"Corrupted color state";u.extend(t.__state,a.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function w(t){var e=a.rgb_to_hsv(t.r,t.g,t.b);u.extend(t.__state,{s:e.s,v:e.v}),u.isNaN(e.h)?u.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h}m.color=m.color||{},m.utils=m.utils||{},m.utils.common=(o=Array.prototype.forEach,r=Array.prototype.slice,{BREAK:{},extend:function(n){return this.each(r.call(arguments,1),function(t){for(var e in t)this.isUndefined(t[e])||(n[e]=t[e])},this),n},defaults:function(n){return this.each(r.call(arguments,1),function(t){for(var e in t)this.isUndefined(n[e])&&(n[e]=t[e])},this),n},compose:function(){var n=r.call(arguments);return function(){for(var t=r.call(arguments),e=n.length-1;0<=e;e--)t=[n[e].apply(this,t)];return t[0]}},each:function(t,e,n){if(o&&t.forEach===o)t.forEach(e,n);else if(t.length===t.length+0){for(var r=0,i=t.length;r<i;r++)if(r in t&&e.call(n,t[r],r)===this.BREAK)return}else for(var r in t)if(e.call(n,t[r],r)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():r.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!=t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}),m.color.toString=(i=m.utils.common,function(t){if(1==t.a||i.isUndefined(t.a)){for(var e=t.hex.toString(16);e.length<6;)e="0"+e;return"#"+e}return"rgba("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+","+t.a+")"}),m.Color=m.color.Color=(s=m.color.interpret=(h=m.color.toString,f=m.utils.common,g=[{litmus:f.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:h},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:h},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:h},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:h}}},{litmus:f.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:f.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:f.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(f.isNumber(t.r)&&f.isNumber(t.g)&&f.isNumber(t.b)&&f.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(f.isNumber(t.r)&&f.isNumber(t.g)&&f.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(f.isNumber(t.h)&&f.isNumber(t.s)&&f.isNumber(t.v)&&f.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(f.isNumber(t.h)&&f.isNumber(t.s)&&f.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],function(){p=!1;var n=1<arguments.length?f.toArray(arguments):arguments[0];return f.each(g,function(t){if(t.litmus(n))return f.each(t.conversions,function(t,e){if(d=t.read(n),!1===p&&!1!==d)return(p=d).conversionName=e,d.conversion=t,f.BREAK}),f.BREAK}),p}),a=m.color.math={hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),c=[[n,a,o],[s,n,o],[o,n,a],[o,s,n],[a,o,n],[n,o,s]][r];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(t,e,n){var r,i=Math.min(t,e,n),o=Math.max(t,e,n),s=o-i;return 0==o?{h:NaN,s:0,v:0}:(r=t==o?(e-n)/s:e==o?2+(n-t)/s:4+(t-e)/s,(r/=6)<0&&(r+=1),{h:360*r,s:s/o,v:o/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),r=this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(l=8*e)|t&~(255<<l)}},c=m.color.toString,u=m.utils.common,_.COMPONENTS=["r","g","b","h","s","v","hex","a"],u.extend(_.prototype,{toString:function(){return c(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),y(_.prototype,"r",2),y(_.prototype,"g",1),y(_.prototype,"b",0),b(_.prototype,"h"),b(_.prototype,"s"),b(_.prototype,"v"),Object.defineProperty(_.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(_.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=a.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),_)},{}],13:[function(t,e,n){var o,r,i,s,a,c,u,l,h,f,d,p,g,m,_,y,b,v,w,k,x,C,A,E,B,S,R,T,N,z,O,F,L,I,D,U,M,P,j,H,q,V,X,G,Z,K,Y,W,J,Q,$=e.exports=$||{};function tt(t,e){this.initialValue=t[e],this.domElement=document.createElement("div"),this.object=t,this.property=e,this.__onChange=void 0,this.__onFinishChange=void 0}function et(){this.backgroundElement=document.createElement("div"),I.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),L.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),I.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;L.bind(this.backgroundElement,"click",function(){t.hide()})}function nt(){if(this.__state=D.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1}function rt(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space||ot(this,e,n),this.__state[e]},set:function(t){"RGB"!==this.__state.space&&(ot(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function it(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space||st(this),this.__state[e]},set:function(t){"HSV"!==this.__state.space&&(st(this),this.__state.space="HSV"),this.__state[e]=t}})}function ot(t,e,n){if("HEX"===t.__state.space)t.__state[e]=U.component_from_hex(t.__state.hex,n);else{if("HSV"!==t.__state.space)throw"Corrupted color state";P.extend(t.__state,U.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function st(t){var e=U.rgb_to_hsv(t.r,t.g,t.b);P.extend(t.__state,{s:e.s,v:e.v}),P.isNaN(e.h)?P.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h}$.gui=$.gui||{},$.utils=$.utils||{},$.controllers=$.controllers||{},$.dom=$.dom||{},$.color=$.color||{},$.utils.css={load:function(t,e){var n=(e=e||document).createElement("link");n.type="text/css",n.rel="stylesheet",n.href=t,e.getElementsByTagName("head")[0].appendChild(n)},inject:function(t,e){e=e||document;var n=document.createElement("style");n.type="text/css",n.innerHTML=t,e.getElementsByTagName("head")[0].appendChild(n)}},$.utils.common=(o=Array.prototype.forEach,r=Array.prototype.slice,{BREAK:{},extend:function(n){return this.each(r.call(arguments,1),function(t){for(var e in t)this.isUndefined(t[e])||(n[e]=t[e])},this),n},defaults:function(n){return this.each(r.call(arguments,1),function(t){for(var e in t)this.isUndefined(n[e])&&(n[e]=t[e])},this),n},compose:function(){var n=r.call(arguments);return function(){for(var t=r.call(arguments),e=n.length-1;0<=e;e--)t=[n[e].apply(this,t)];return t[0]}},each:function(t,e,n){if(o&&t.forEach===o)t.forEach(e,n);else if(t.length===t.length+0){for(var r=0,i=t.length;r<i;r++)if(r in t&&e.call(n,t[r],r)===this.BREAK)return}else for(var r in t)if(e.call(n,t[r],r)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():r.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!=t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}),$.controllers.Controller=($.utils.common.extend(tt.prototype,{onChange:function(t){return this.__onChange=t,this},onFinishChange:function(t){return this.__onFinishChange=t,this},setValue:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),tt),$.dom.dom=function(u){var l={};u.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(t,e){u.each(t,function(t){l[t]=e})});var n=/(\d+(\.\d+)?)px/;function r(t){if("0"===t||u.isUndefined(t))return 0;var e=t.match(n);return u.isNull(e)?0:parseFloat(e[1])}var i={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,n){u.isUndefined(e)&&(e=!0),u.isUndefined(n)&&(n=!0),t.style.position="absolute",e&&(t.style.left=0,t.style.right=0),n&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,r){n=n||{};var i=l[e];if(!i)throw new Error("Event type "+e+" not supported.");var o=document.createEvent(i);switch(i){case"MouseEvents":var s=n.x||n.clientX||0,a=n.y||n.clientY||0;o.initMouseEvent(e,n.bubbles||!1,n.cancelable||!0,window,n.clickCount||1,0,0,s,a,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=o.initKeyboardEvent||o.initKeyEvent;u.defaults(n,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(e,n.bubbles||!1,n.cancelable,window,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.keyCode,n.charCode);break;default:o.initEvent(e,n.bubbles||!1,n.cancelable||!0)}u.defaults(o,r),t.dispatchEvent(o)},bind:function(t,e,n,r){return r=r||!1,t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on"+e,n),i},unbind:function(t,e,n,r){return r=r||!1,t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent&&t.detachEvent("on"+e,n),i},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1==n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return i},removeClass:function(t,e){if(e)if(void 0===t.className);else if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),r=n.indexOf(e);-1!=r&&(n.splice(r,1),t.className=n.join(" "))}else t.className=void 0;return i},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return r(e["border-left-width"])+r(e["border-right-width"])+r(e["padding-left"])+r(e["padding-right"])+r(e.width)},getHeight:function(t){var e=getComputedStyle(t);return r(e["border-top-width"])+r(e["border-bottom-width"])+r(e["padding-top"])+r(e["padding-bottom"])+r(e.height)},getOffset:function(t){var e={left:0,top:0};if(t.offsetParent)for(;e.left+=t.offsetLeft,e.top+=t.offsetTop,t=t.offsetParent;);return e},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}};return i}($.utils.common),$.controllers.OptionController=(i=$.controllers.Controller,s=$.dom.dom,a=$.utils.common,(c=function(t,e,n){c.superclass.call(this,t,e);var r=this;if(this.__select=document.createElement("select"),a.isArray(n)){var i={};a.each(n,function(t){i[t]=t}),n=i}a.each(n,function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),r.__select.appendChild(n)}),this.updateDisplay(),s.bind(this.__select,"change",function(){var t=this.options[this.selectedIndex].value;r.setValue(t)}),this.domElement.appendChild(this.__select)}).superclass=i,a.extend(c.prototype,i.prototype,{setValue:function(t){var e=c.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e},updateDisplay:function(){return this.__select.value=this.getValue(),c.superclass.prototype.updateDisplay.call(this)}}),c),$.controllers.NumberController=(u=$.controllers.Controller,l=$.utils.common,(h=function(t,e,n){h.superclass.call(this,t,e),n=n||{},this.__min=n.min,this.__max=n.max,this.__step=n.step,l.isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=function(t){return-1<(t=t.toString()).indexOf(".")?t.length-t.indexOf(".")-1:0}(this.__impliedStep)}).superclass=u,l.extend(h.prototype,u.prototype,{setValue:function(t){return void 0!==this.__min&&t<this.__min?t=this.__min:void 0!==this.__max&&t>this.__max&&(t=this.__max),void 0!==this.__step&&t%this.__step!=0&&(t=Math.round(t/this.__step)*this.__step),h.superclass.prototype.setValue.call(this,t)},min:function(t){return this.__min=t,this},max:function(t){return this.__max=t,this},step:function(t){return this.__step=t,this}}),h),$.controllers.NumberControllerBox=(f=$.controllers.NumberController,d=$.dom.dom,p=$.utils.common,(g=function(t,e,n){this.__truncationSuspended=!1,g.superclass.call(this,t,e,n);var r,i=this;function o(){var t=parseFloat(i.__input.value);p.isNaN(t)||i.setValue(t)}function s(t){var e=r-t.clientY;i.setValue(i.getValue()+e*i.__impliedStep),r=t.clientY}function a(){d.unbind(window,"mousemove",s),d.unbind(window,"mouseup",a)}this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),d.bind(this.__input,"change",o),d.bind(this.__input,"blur",function(){o(),i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}),d.bind(this.__input,"mousedown",function(t){d.bind(window,"mousemove",s),d.bind(window,"mouseup",a),r=t.clientY}),d.bind(this.__input,"keydown",function(t){13===t.keyCode&&(i.__truncationSuspended=!0,this.blur(),i.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)}).superclass=f,p.extend(g.prototype,f.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}(this.getValue(),this.__precision),g.superclass.prototype.updateDisplay.call(this)}}),g),$.controllers.NumberControllerSlider=(m=$.controllers.NumberController,_=$.dom.dom,y=$.utils.css,b=$.utils.common,(v=function(t,e,n,r,i){v.superclass.call(this,t,e,{min:n,max:r,step:i});var o=this;function s(t){t.preventDefault();var e=_.getOffset(o.__background),n=_.getWidth(o.__background);return o.setValue(function(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)}(t.clientX,e.left,e.left+n,o.__min,o.__max)),!1}function a(){_.unbind(window,"mousemove",s),_.unbind(window,"mouseup",a),o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),_.bind(this.__background,"mousedown",function(t){_.bind(window,"mousemove",s),_.bind(window,"mouseup",a),s(t)}),_.addClass(this.__background,"slider"),_.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)}).superclass=m,v.useDefaultStyles=function(){y.inject(".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}")},b.extend(v.prototype,m.prototype,{updateDisplay:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",v.superclass.prototype.updateDisplay.call(this)}}),v),$.controllers.FunctionController=(w=$.controllers.Controller,k=$.dom.dom,x=$.utils.common,(C=function(t,e,n){C.superclass.call(this,t,e);var r=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===n?"Fire":n,k.bind(this.__button,"click",function(t){return t.preventDefault(),r.fire(),!1}),k.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)}).superclass=w,x.extend(C.prototype,w.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),C),$.controllers.BooleanController=(A=$.controllers.Controller,E=$.dom.dom,B=$.utils.common,(S=function(t,e){S.superclass.call(this,t,e);var n=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),E.bind(this.__checkbox,"change",function(){n.setValue(!n.__prev)},!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()}).superclass=A,B.extend(S.prototype,A.prototype,{setValue:function(t){var e=S.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e},updateDisplay:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,S.superclass.prototype.updateDisplay.call(this)}}),S),$.color.toString=(R=$.utils.common,function(t){if(1==t.a||R.isUndefined(t.a)){for(var e=t.hex.toString(16);e.length<6;)e="0"+e;return"#"+e}return"rgba("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+","+t.a+")"}),$.color.interpret=(T=$.color.toString,N=$.utils.common,F=[{litmus:N.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:T},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:T},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:T},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:T}}},{litmus:N.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:N.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:N.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(N.isNumber(t.r)&&N.isNumber(t.g)&&N.isNumber(t.b)&&N.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(N.isNumber(t.r)&&N.isNumber(t.g)&&N.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(N.isNumber(t.h)&&N.isNumber(t.s)&&N.isNumber(t.v)&&N.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(N.isNumber(t.h)&&N.isNumber(t.s)&&N.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],function(){O=!1;var n=1<arguments.length?N.toArray(arguments):arguments[0];return N.each(F,function(t){if(t.litmus(n))return N.each(t.conversions,function(t,e){if(z=t.read(n),!1===O&&!1!==z)return(O=z).conversionName=e,z.conversion=t,N.BREAK}),N.BREAK}),O}),$.GUI=$.gui.GUI=function(t,e,n,u,l,h,f,d,p,r,g,i,o,m,_){t.inject(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");var y,c,b="Default",v=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}(),w=!0,s=!1,k=[],x=function(e){var n=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),m.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],e=e||{},e=_.defaults(e,{autoPlace:!0,width:x.DEFAULT_WIDTH}),e=_.defaults(e,{resizable:e.autoPlace,hideable:e.autoPlace}),_.isUndefined(e.load)?e.load={preset:b}:e.preset&&(e.load.preset=e.preset),_.isUndefined(e.parent)&&e.hideable&&k.push(this),e.resizable=_.isUndefined(e.parent)&&e.resizable,e.autoPlace&&_.isUndefined(e.scrollable)&&(e.scrollable=!0);var r=v&&"true"===localStorage.getItem(B(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return e.parent}},scrollable:{get:function(){return e.scrollable}},autoPlace:{get:function(){return e.autoPlace}},preset:{get:function(){return n.parent?n.getRoot().preset:e.load.preset},set:function(t){n.parent?n.getRoot().preset=t:e.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value==t.preset&&(t.__preset_select.selectedIndex=e)}(this),n.revert()}},width:{get:function(){return e.width},set:function(t){e.width=t,S(n,t)}},name:{get:function(){return e.name},set:function(t){e.name=t,i&&(i.innerHTML=e.name)}},closed:{get:function(){return e.closed},set:function(t){e.closed=t,e.closed?m.addClass(n.__ul,x.CLASS_CLOSED):m.removeClass(n.__ul,x.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?x.TEXT_OPEN:x.TEXT_CLOSED)}},load:{get:function(){return e.load}},useLocalStorage:{get:function(){return r},set:function(t){v&&((r=t)?m.bind(window,"unload",s):m.unbind(window,"unload",s),localStorage.setItem(B(n,"isLocal"),t))}}}),_.isUndefined(e.parent)){if(e.closed=!1,m.addClass(this.domElement,x.CLASS_MAIN),m.makeSelectable(this.domElement,!1),v&&r){n.useLocalStorage=!0;var t=localStorage.getItem(B(this,"gui"));t&&(e.load=JSON.parse(t))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=x.TEXT_CLOSED,m.addClass(this.__closeButton,x.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),m.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===e.closed&&(e.closed=!0);var i=document.createTextNode(e.name);m.addClass(i,"controller-name");var o=A(n,i);m.addClass(this.__ul,x.CLASS_CLOSED),m.addClass(o,"title"),m.bind(o,"click",function(t){return t.preventDefault(),n.closed=!n.closed,!1}),e.closed||(this.closed=!1)}function s(){localStorage.setItem(B(n,"gui"),JSON.stringify(n.getSaveObject()))}e.autoPlace&&(_.isUndefined(e.parent)&&(w&&(c=document.createElement("div"),m.addClass(c,"dg"),m.addClass(c,x.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(c),w=!1),c.appendChild(this.domElement),m.addClass(this.domElement,x.CLASS_AUTO_PLACE)),this.parent||S(n,e.width)),m.bind(window,"resize",function(){n.onResize()}),m.bind(this.__ul,"webkitTransitionEnd",function(){n.onResize()}),m.bind(this.__ul,"transitionend",function(){n.onResize()}),m.bind(this.__ul,"oTransitionEnd",function(){n.onResize()}),this.onResize(),e.resizable&&function(e){var n;function t(t){return t.preventDefault(),n=t.clientX,m.addClass(e.__closeButton,x.CLASS_DRAG),m.bind(window,"mousemove",r),m.bind(window,"mouseup",i),!1}function r(t){return t.preventDefault(),e.width+=n-t.clientX,e.onResize(),n=t.clientX,!1}function i(){m.removeClass(e.__closeButton,x.CLASS_DRAG),m.unbind(window,"mousemove",r),m.unbind(window,"mouseup",i)}e.__resize_handle=document.createElement("div"),_.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),m.bind(e.__resize_handle,"mousedown",t),m.bind(e.__closeButton,"mousedown",t),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}(this);var a;n.getRoot();e.parent||((a=n.getRoot()).width+=1,_.defer(function(){a.width-=1}))};function C(t,e,n,r){if(void 0===e[n])throw new Error("Object "+e+' has no property "'+n+'"');var i;if(r.color)i=new g(e,n);else{var o=[e,n].concat(r.factoryArgs);i=u.apply(t,o)}r.before instanceof l&&(r.before=r.before.__li),E(t,i),m.addClass(i.domElement,"c");var s=document.createElement("span");m.addClass(s,"property-name"),s.innerHTML=i.property;var a=document.createElement("div");a.appendChild(s),a.appendChild(i.domElement);var c=A(t,a,r.before);return m.addClass(c,x.CLASS_CONTROLLER_ROW),m.addClass(c,typeof i.getValue()),function(e,n,r){if(r.__li=n,r.__gui=e,_.extend(r,{options:function(t){return 1<arguments.length?(r.remove(),C(e,r.object,r.property,{before:r.__li.nextElementSibling,factoryArgs:[_.toArray(arguments)]})):_.isArray(t)||_.isObject(t)?(r.remove(),C(e,r.object,r.property,{before:r.__li.nextElementSibling,factoryArgs:[t]})):void 0},name:function(t){return r.__li.firstElementChild.firstElementChild.innerHTML=t,r},listen:function(){return r.__gui.listen(r),r},remove:function(){return r.__gui.remove(r),r}}),r instanceof p){var i=new d(r.object,r.property,{min:r.__min,max:r.__max,step:r.__step});_.each(["updateDisplay","onChange","onFinishChange"],function(t){var e=r[t],n=i[t];r[t]=i[t]=function(){var t=Array.prototype.slice.call(arguments);return e.apply(r,t),n.apply(i,t)}}),m.addClass(n,"has-slider"),r.domElement.insertBefore(i.domElement,r.domElement.firstElementChild)}else if(r instanceof d){function t(t){return _.isNumber(r.__min)&&_.isNumber(r.__max)?(r.remove(),C(e,r.object,r.property,{before:r.__li.nextElementSibling,factoryArgs:[r.__min,r.__max,r.__step]})):t}r.min=_.compose(t,r.min),r.max=_.compose(t,r.max)}else r instanceof h?(m.bind(n,"click",function(){m.fakeEvent(r.__checkbox,"click")}),m.bind(r.__checkbox,"click",function(t){t.stopPropagation()})):r instanceof f?(m.bind(n,"click",function(){m.fakeEvent(r.__button,"click")}),m.bind(n,"mouseover",function(){m.addClass(r.__button,"hover")}),m.bind(n,"mouseout",function(){m.removeClass(r.__button,"hover")})):r instanceof g&&(m.addClass(n,"color"),r.updateDisplay=_.compose(function(t){return n.style.borderLeftColor=r.__color.toString(),t},r.updateDisplay),r.updateDisplay());r.setValue=_.compose(function(t){return e.getRoot().__preset_select&&r.isModified()&&T(e.getRoot(),!0),t},r.setValue)}(t,c,i),t.__controllers.push(i),i}function A(t,e,n){var r=document.createElement("li");return e&&r.appendChild(e),n?t.__ul.insertBefore(r,params.before):t.__ul.appendChild(r),t.onResize(),r}function E(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(-1!=r){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[e.property]=e,n.load&&n.load.remembered){var o,s=n.load.remembered;if(s[t.preset])o=s[t.preset];else{if(!s[b])return;o=s[b]}if(o[r]&&void 0!==o[r][e.property]){var a=o[r][e.property];e.initialValue=a,e.setValue(a)}}}}function B(t,e){return document.location.href+"."+e}function S(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function a(i,o){var s={};return _.each(i.__rememberedObjects,function(t,e){var n={},r=i.__rememberedObjectIndecesToControllers[e];_.each(r,function(t,e){n[e]=o?t.initialValue:t.getValue()}),s[e]=n}),s}function R(t,e,n){var r=document.createElement("option");r.innerHTML=e,r.value=e,t.__preset_select.appendChild(r),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function T(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}return x.toggleHide=function(){s=!s,_.each(k,function(t){t.domElement.style.zIndex=s?-999:999,t.domElement.style.opacity=s?0:1})},x.CLASS_AUTO_PLACE="a",x.CLASS_AUTO_PLACE_CONTAINER="ac",x.CLASS_MAIN="main",x.CLASS_CONTROLLER_ROW="cr",x.CLASS_TOO_TALL="taller-than-window",x.CLASS_CLOSED="closed",x.CLASS_CLOSE_BUTTON="close-button",x.CLASS_DRAG="drag",x.DEFAULT_WIDTH=245,x.TEXT_CLOSED="Close Controls",x.TEXT_OPEN="Open Controls",m.bind(window,"keydown",function(t){"text"===document.activeElement.type||72!==t.which&&72!=t.keyCode||x.toggleHide()},!1),_.extend(x.prototype,{add:function(t,e){return C(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return C(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.slice(this.__controllers.indexOf(t),1);var e=this;_.defer(function(){e.onResize()})},destroy:function(){this.autoPlace&&c.removeChild(this.domElement)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new x(e);this.__folders[t]=n;var r=A(this,n.domElement);return m.addClass(r,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=m.getOffset(e.__ul).top,n=0;_.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=m.getHeight(t))}),window.innerHeight-t-20<n?(m.addClass(e.domElement,x.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(m.removeClass(e.domElement,x.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&_.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},remember:function(){if(_.isUndefined(y)&&((y=new o).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;_.each(Array.prototype.slice.call(arguments),function(t){0==e.__rememberedObjects.length&&function(n){var t=n.__save_row=document.createElement("li");m.addClass(n.domElement,"has-save"),n.__ul.insertBefore(t,n.__ul.firstChild),m.addClass(t,"save-row");var e=document.createElement("span");e.innerHTML="&nbsp;",m.addClass(e,"button gears");var r=document.createElement("span");r.innerHTML="Save",m.addClass(r,"button"),m.addClass(r,"save");var i=document.createElement("span");i.innerHTML="New",m.addClass(i,"button"),m.addClass(i,"save-as");var o=document.createElement("span");o.innerHTML="Revert",m.addClass(o,"button"),m.addClass(o,"revert");var s=n.__preset_select=document.createElement("select");n.load&&n.load.remembered?_.each(n.load.remembered,function(t,e){R(n,e,e==n.preset)}):R(n,b,!1);if(m.bind(s,"change",function(){for(var t=0;t<n.__preset_select.length;t++)n.__preset_select[t].innerHTML=n.__preset_select[t].value;n.preset=this.value}),t.appendChild(s),t.appendChild(e),t.appendChild(r),t.appendChild(i),t.appendChild(o),v){var a=document.getElementById("dg-save-locally"),c=document.getElementById("dg-local-explain");a.style.display="block";var u=document.getElementById("dg-local-storage");function l(){c.style.display=n.useLocalStorage?"block":"none"}"true"===localStorage.getItem(B(n,"isLocal"))&&u.setAttribute("checked","checked"),l(),m.bind(u,"change",function(){n.useLocalStorage=!n.useLocalStorage,l()})}var h=document.getElementById("dg-new-constructor");m.bind(h,"keydown",function(t){!t.metaKey||67!==t.which&&67!=t.keyCode||y.hide()}),m.bind(e,"click",function(){h.innerHTML=JSON.stringify(n.getSaveObject(),void 0,2),y.show(),h.focus(),h.select()}),m.bind(r,"click",function(){n.save()}),m.bind(i,"click",function(){var t=prompt("Enter a new preset name.");t&&n.saveAs(t)}),m.bind(o,"click",function(){n.revert()})}(e),-1==e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&S(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var n=this.load;return n.closed=this.closed,0<this.__rememberedObjects.length&&(n.preset=this.preset,n.remembered||(n.remembered={}),n.remembered[this.preset]=a(this)),n.folders={},_.each(this.__folders,function(t,e){n.folders[e]=t.getSaveObject()}),n},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=a(this),T(this,!1)},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[b]=a(this,!0)),this.load.remembered[t]=a(this),this.preset=t,R(this,t,!0)},revert:function(e){_.each(this.__controllers,function(t){this.getRoot().load.remembered?E(e||this.getRoot(),t):t.setValue(t.initialValue)},this),_.each(this.__folders,function(t){t.revert(t)}),e||T(this.getRoot(),!1)},listen:function(t){var e=0==this.__listening.length;this.__listening.push(t),e&&function t(e){0!=e.length&&i(function(){t(e)});_.each(e,function(t){t.updateDisplay()})}(this.__listening)}}),x}($.utils.css,0,0,$.controllers.factory=(H=$.controllers.OptionController,q=$.controllers.NumberControllerBox,V=$.controllers.NumberControllerSlider,X=$.controllers.StringController=(Y=$.controllers.Controller,W=$.dom.dom,J=$.utils.common,(Q=function(t,e){Q.superclass.call(this,t,e);var n=this;function r(){n.setValue(n.__input.value)}this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),W.bind(this.__input,"keyup",r),W.bind(this.__input,"change",r),W.bind(this.__input,"blur",function(){n.__onFinishChange&&n.__onFinishChange.call(n,n.getValue())}),W.bind(this.__input,"keydown",function(t){13===t.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)}).superclass=Y,J.extend(Q.prototype,Y.prototype,{updateDisplay:function(){return W.isActive(this.__input)||(this.__input.value=this.getValue()),Q.superclass.prototype.updateDisplay.call(this)}}),Q),G=$.controllers.FunctionController,Z=$.controllers.BooleanController,K=$.utils.common,function(t,e){var n=t[e];return K.isArray(arguments[2])||K.isObject(arguments[2])?new H(t,e,arguments[2]):K.isNumber(n)?K.isNumber(arguments[2])&&K.isNumber(arguments[3])?new V(t,e,arguments[2],arguments[3]):new q(t,e,{min:arguments[2],max:arguments[3]}):K.isString(n)?new X(t,e):K.isFunction(n)?new G(t,e,""):K.isBoolean(n)?new Z(t,e):void 0}),$.controllers.Controller,$.controllers.BooleanController,$.controllers.FunctionController,$.controllers.NumberControllerBox,$.controllers.NumberControllerSlider,$.controllers.OptionController,$.controllers.ColorController=function(t,l,h,f,d){var p=function(t,e){p.superclass.call(this,t,e),this.__color=new h(this.getValue()),this.__temp=new h(0);var o=this;this.domElement=document.createElement("div"),l.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",l.bind(this.__input,"keydown",function(t){13===t.keyCode&&s.call(this)}),l.bind(this.__input,"blur",s),l.bind(this.__selector,"mousedown",function(t){l.addClass(this,"drag").bind(window,"mouseup",function(t){l.removeClass(o.__selector,"drag")})});var n=document.createElement("div");function r(t){c(t),l.bind(window,"mousemove",c),l.bind(window,"mouseup",i)}function i(){l.unbind(window,"mousemove",c),l.unbind(window,"mouseup",i)}function s(){var t=f(this.value);!1!==t?(o.__color.__state=t,o.setValue(o.__color.toOriginal())):this.value=o.__color.toString()}function a(){l.unbind(window,"mousemove",u),l.unbind(window,"mouseup",a)}function c(t){t.preventDefault();var e=l.getWidth(o.__saturation_field),n=l.getOffset(o.__saturation_field),r=(t.clientX-n.left+document.body.scrollLeft)/e,i=1-(t.clientY-n.top+document.body.scrollTop)/e;return 1<i?i=1:i<0&&(i=0),1<r?r=1:r<0&&(r=0),o.__color.v=i,o.__color.s=r,o.setValue(o.__color.toOriginal()),!1}function u(t){t.preventDefault();var e=l.getHeight(o.__hue_field),n=l.getOffset(o.__hue_field),r=1-(t.clientY-n.top+document.body.scrollTop)/e;return 1<r?r=1:r<0&&(r=0),o.__color.h=360*r,o.setValue(o.__color.toOriginal()),!1}d.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),d.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),d.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),d.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),d.extend(n.style,{width:"100%",height:"100%",background:"none"}),g(n,"top","rgba(0,0,0,0)","#000"),d.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),function(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}(this.__hue_field),d.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),l.bind(this.__saturation_field,"mousedown",r),l.bind(this.__field_knob,"mousedown",r),l.bind(this.__hue_field,"mousedown",function(t){u(t),l.bind(window,"mousemove",u),l.bind(window,"mouseup",a)}),this.__saturation_field.appendChild(n),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};p.superclass=t,d.extend(p.prototype,t.prototype,{updateDisplay:function(){var e=f(this.getValue());if(!1!==e){var n=!1;d.each(h.COMPONENTS,function(t){if(!d.isUndefined(e[t])&&!d.isUndefined(this.__color.__state[t])&&e[t]!==this.__color.__state[t])return n=!0,{}},this),n&&d.extend(this.__color.__state,e)}d.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var t=this.__color.v<.5||.5<this.__color.s?255:0,r=255-t;d.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+t+","+t+","+t+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,g(this.__saturation_field,"left","#fff",this.__temp.toString()),d.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+t+","+t+","+t+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}});var o=["-moz-","-o-","-webkit-","-ms-",""];function g(e,n,r,i){e.style.background="",d.each(o,function(t){e.style.cssText+="background: "+t+"linear-gradient("+n+", "+r+" 0%, "+i+" 100%); "})}return p}($.controllers.Controller,$.dom.dom,$.color.Color=(D=$.color.interpret,U=$.color.math={hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),c=[[n,a,o],[s,n,o],[o,n,a],[o,s,n],[a,o,n],[n,o,s]][r];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(t,e,n){var r,i=Math.min(t,e,n),o=Math.max(t,e,n),s=o-i;return 0==o?{h:NaN,s:0,v:0}:(r=t==o?(e-n)/s:e==o?2+(n-t)/s:4+(t-e)/s,(r/=6)<0&&(r+=1),{h:360*r,s:s/o,v:o/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),r=this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(j=8*e)|t&~(255<<j)}},M=$.color.toString,P=$.utils.common,nt.COMPONENTS=["r","g","b","h","s","v","hex","a"],P.extend(nt.prototype,{toString:function(){return M(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),rt(nt.prototype,"r",2),rt(nt.prototype,"g",1),rt(nt.prototype,"b",0),it(nt.prototype,"h"),it(nt.prototype,"s"),it(nt.prototype,"v"),Object.defineProperty(nt.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(nt.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=U.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),nt),$.color.interpret,$.utils.common),$.utils.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)},$.dom.CenteredDiv=(L=$.dom.dom,I=$.utils.common,et.prototype.show=function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),I.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})},et.prototype.hide=function(){var t=this,e=function(){t.domElement.style.display="none",t.backgroundElement.style.display="none",L.unbind(t.domElement,"webkitTransitionEnd",e),L.unbind(t.domElement,"transitionend",e),L.unbind(t.domElement,"oTransitionEnd",e)};L.bind(this.domElement,"webkitTransitionEnd",e),L.bind(this.domElement,"transitionend",e),L.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},et.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-L.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-L.getHeight(this.domElement)/2+"px"},et),$.dom.dom,$.utils.common)},{}],14:[function(t,e,n){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":15,"engine.io-parser":26}],15:[function(t,e,n){var r=t("./transports/index"),i=t("component-emitter"),h=t("debug")("engine.io-client:socket"),o=t("indexof"),s=t("engine.io-parser"),a=t("parseuri"),c=t("parseqs");function f(t,e){if(!(this instanceof f))return new f(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=a(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=a(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),"undefined"!=typeof self&&!this.isReactNative||(e.extraHeaders&&0<Object.keys(e.extraHeaders).length&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}(e.exports=f).priorWebsocketSuccess=!1,i(f.prototype),f.protocol=s.protocol,(f.Socket=f).Transport=t("./transport"),f.transports=t("./transports/index"),f.parser=t("engine.io-parser"),f.prototype.createTransport=function(t){h('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=s.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new r[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},f.prototype.open=function(){var t;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},f.prototype.setTransport=function(t){h("setting transport %s",t.name);var e=this;this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),(this.transport=t).on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},f.prototype.probe=function(n){h('probing transport "%s"',n);var r=this.createTransport(n,{probe:1}),i=!1,o=this;function t(){if(o.onlyBinaryUpgrades){var t=!this.supportsBinary&&o.transport.supportsBinary;i=i||t}i||(h('probe transport "%s" opened',n),r.send([{type:"ping",data:"probe"}]),r.once("packet",function(t){if(!i)if("pong"===t.type&&"probe"===t.data){if(h('probe transport "%s" pong',n),o.upgrading=!0,o.emit("upgrading",r),!r)return;f.priorWebsocketSuccess="websocket"===r.name,h('pausing current transport "%s"',o.transport.name),o.transport.pause(function(){i||"closed"!==o.readyState&&(h("changing transport and sending upgrade packet"),l(),o.setTransport(r),r.send([{type:"upgrade"}]),o.emit("upgrade",r),r=null,o.upgrading=!1,o.flush())})}else{h('probe transport "%s" failed',n);var e=new Error("probe error");e.transport=r.name,o.emit("upgradeError",e)}}))}function s(){i||(i=!0,l(),r.close(),r=null)}function e(t){var e=new Error("probe error: "+t);e.transport=r.name,s(),h('probe transport "%s" failed because of error: %s',n,t),o.emit("upgradeError",e)}function a(){e("transport closed")}function c(){e("socket closed")}function u(t){r&&t.name!==r.name&&(h('"%s" works - aborting "%s"',t.name,r.name),s())}function l(){r.removeListener("open",t),r.removeListener("error",e),r.removeListener("close",a),o.removeListener("close",c),o.removeListener("upgrading",u)}f.priorWebsocketSuccess=!1,r.once("open",t),r.once("error",e),r.once("close",a),this.once("close",c),this.once("upgrading",u),r.open()},f.prototype.onOpen=function(){if(h("socket open"),this.readyState="open",f.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){h("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},f.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(h('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else h('packet received with socket readyState "%s"',this.readyState)},f.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},f.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},f.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){h("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},f.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()},f.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},f.prototype.write=f.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},f.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:t,data:e,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},f.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():e()}):this.upgrading?r():e()}function e(){t.onClose("forced close"),h("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this},f.prototype.onError=function(t){h("socket error %j",t),f.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},f.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){h('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},f.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~o(this.transports,t[n])&&e.push(t[n]);return e}},{"./transport":16,"./transports/index":17,"component-emitter":23,debug:24,"engine.io-parser":26,indexof:33,parseqs:51,parseuri:52}],16:[function(t,e,n){var r=t("engine.io-parser");function i(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t("component-emitter")((e.exports=i).prototype),i.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},i.prototype.onPacket=function(t){this.emit("packet",t)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":23,"engine.io-parser":26}],17:[function(t,e,n){var s=t("xmlhttprequest-ssl"),a=t("./polling-xhr"),c=t("./polling-jsonp"),r=t("./websocket");n.polling=function(t){var e=!1,n=!1,r=!1!==t.jsonp;if("undefined"!=typeof location){var i="https:"===location.protocol,o=location.port;o=o||(i?443:80),e=t.hostname!==location.hostname||o!==t.port,n=t.secure!==i}{if(t.xdomain=e,t.xscheme=n,"open"in new s(t)&&!t.forceJSONP)return new a(t);if(!r)throw new Error("JSONP disabled");return new c(t)}},n.websocket=r},{"./polling-jsonp":18,"./polling-xhr":19,"./websocket":21,"xmlhttprequest-ssl":22}],18:[function(n,a,t){(function(r){var i=n("./polling"),t=n("component-inherit");a.exports=e;var o,u=/\n/g,l=/\\n/g;function s(){}function e(t){if(i.call(this,t),this.query=this.query||{},!o){var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:{};o=e.___eio=e.___eio||[]}this.index=o.length;var n=this;o.push(function(t){n.onData(t)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=s)},!1)}t(e,i),e.prototype.supportsBinary=!1,e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},e.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},e.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=s,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function a(){c(),e()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),c(),t=t.replace(l,"\\\n"),this.area.value=t.replace(u,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&a()}:this.iframe.onload=a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":20,"component-inherit":10}],19:[function(t,e,n){var i=t("xmlhttprequest-ssl"),r=t("./polling"),o=t("component-emitter"),s=t("component-inherit"),a=t("debug")("engine.io-client:polling-xhr");function c(){}function u(t){if(r.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n=n||(e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function l(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(e.exports=u,e.exports.Request=l,s(u,r),u.prototype.supportsBinary=!0,u.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new l(t)},u.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),i=this;r.on("success",e),r.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=r},u.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},o(l.prototype),l.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new i(t),n=this;try{a("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,this.extraHeaders[r])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError(e.status)},0))},a("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){n.onError(t)},0)}"undefined"!=typeof document&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},l.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},l.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},l.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete l.requests[this.index],this.xhr=null}},l.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},l.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},l.prototype.abort=function(){this.cleanup()},l.requestsCount=0,l.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",f);else if("function"==typeof addEventListener){var h="onpagehide"in self?"pagehide":"unload";addEventListener(h,f,!1)}function f(){for(var t in l.requests)l.requests.hasOwnProperty(t)&&l.requests[t].abort()}},{"./polling":20,"component-emitter":23,"component-inherit":10,debug:24,"xmlhttprequest-ssl":22}],20:[function(t,e,n){var r=t("../transport"),i=t("parseqs"),o=t("engine.io-parser"),s=t("component-inherit"),a=t("yeast"),c=t("debug")("engine.io-client:polling");e.exports=l;var u=null!=new(t("xmlhttprequest-ssl"))({xdomain:!1}).responseType;function l(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),r.call(this,t)}s(l,r),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(t){var e=this;function n(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){c("pre-pause polling complete"),--r||n()})),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",function(){c("pre-pause writing complete"),--r||n()}))}else n()},l.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(t){var r=this;c("polling got data %s",t);o.decodePayload(t,this.socket.binaryType,function(t,e,n){if("opening"===r.readyState&&r.onOpen(),"close"===t.type)return r.onClose(),!1;r.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},l.prototype.write=function(t){var e=this;this.writable=!1;function n(){e.writable=!0,e.emit("drain")}o.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},l.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"==e&&443!==Number(this.port)||"http"==e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},{"../transport":16,"component-inherit":10,debug:24,"engine.io-parser":26,parseqs:51,"xmlhttprequest-ssl":22,yeast:70}],21:[function(h,f,t){(function(s){var e,n,r=h("../transport"),a=h("engine.io-parser"),i=h("parseqs"),t=h("component-inherit"),o=h("yeast"),c=h("debug")("engine.io-client:websocket");if("undefined"!=typeof WebSocket)e=WebSocket;else if("undefined"!=typeof self)e=self.WebSocket||self.MozWebSocket;else try{n=h("ws")}catch(t){}var u=e||n;function l(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=e&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(u=n),r.call(this,t)}t(f.exports=l,r),l.prototype.name="websocket",l.prototype.supportsBinary=!0,l.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new u(t,e):new u(t):new u(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},l.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},l.prototype.write=function(t){var r=this;this.writable=!1;for(var i=t.length,e=0,n=i;e<n;e++)!function(n){a.encodePacket(n,r.supportsBinary,function(t){if(!r.usingBrowserWebSocket){var e={};if(n.options&&(e.compress=n.options.compress),r.perMessageDeflate)("string"==typeof t?s.byteLength(t):t.length)<r.perMessageDeflate.threshold&&(e.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(t):r.ws.send(t,e)}catch(t){c("websocket closed before onclose event")}--i||o()})}(t[e]);function o(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}},l.prototype.onClose=function(){r.prototype.onClose.call(this)},l.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},l.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!==Number(this.port)||"ws"==e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=o()),this.supportsBinary||(t.b64=1),(t=i.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},l.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===l.prototype.name)}}).call(this,h("buffer").Buffer)},{"../transport":16,buffer:8,"component-inherit":10,debug:24,"engine.io-parser":26,parseqs:51,ws:7,yeast:70}],22:[function(t,e,n){var i=t("has-cors");e.exports=function(t){var e=t.xdomain,n=t.xscheme,r=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||i))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(t){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},{"has-cors":31}],23:[function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}void 0!==e&&(e.exports=r),r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],24:[function(n,r,o){(function(e){function t(){var t;try{t=o.storage.debug}catch(t){}return!t&&void 0!==e&&"env"in e&&(t=e.env.DEBUG),t}(o=r.exports=n("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},o.formatArgs=function(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+o.humanize(this.diff),!e)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(i=r))}),t.splice(i,0,n)},o.save=function(t){try{null==t?o.storage.removeItem("debug"):o.storage.debug=t}catch(t){}},o.load=t,o.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},o.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),o.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],o.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},o.enable(t())}).call(this,n("_process"))},{"./debug":25,_process:53}],25:[function(t,e,c){function n(t){var r;function a(){if(a.enabled){var i=a,t=+new Date,e=t-(r||t);i.diff=e,i.prev=r,i.curr=t,r=t;for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];o[0]=c.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,e){if("%%"===t)return t;s++;var n=c.formatters[e];if("function"==typeof n){var r=o[s];t=n.call(i,r),o.splice(s,1),s--}return t}),c.formatArgs.call(i,o),(a.log||c.log||console.log.bind(console)).apply(i,o)}}return a.namespace=t,a.enabled=c.enabled(t),a.useColors=c.useColors(),a.color=function(t){var e,n=0;for(e in t)n=(n<<5)-n+t.charCodeAt(e),n|=0;return c.colors[Math.abs(n)%c.colors.length]}(t),a.destroy=i,"function"==typeof c.init&&c.init(a),c.instances.push(a),a}function i(){var t=c.instances.indexOf(this);return-1!==t&&(c.instances.splice(t,1),!0)}(c=e.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},c.disable=function(){c.enable("")},c.enable=function(t){var e;c.save(t),c.names=[],c.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length;for(e=0;e<r;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?c.skips.push(new RegExp("^"+t.substr(1)+"$")):c.names.push(new RegExp("^"+t+"$")));for(e=0;e<c.instances.length;e++){var i=c.instances[e];i.enabled=c.enabled(i.namespace)}},c.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=c.skips.length;e<n;e++)if(c.skips[e].test(t))return!1;for(e=0,n=c.names.length;e<n;e++)if(c.names[e].test(t))return!0;return!1},c.humanize=t("ms"),c.instances=[],c.names=[],c.skips=[],c.formatters={}},{ms:34}],26:[function(t,e,f){var i,n=t("./keys"),o=t("has-binary2"),d=t("arraybuffer.slice"),a=t("after"),s=t("./utf8");"undefined"!=typeof ArrayBuffer&&(i=t("base64-arraybuffer"));var r="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),c="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),u=r||c;f.protocol=3;var l=f.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=n(l),p={type:"error",data:"parser error"},g=t("blob");function m(t,e,n){function r(n,t,r){e(t,function(t,e){i[n]=e,r(t,i)})}for(var i=new Array(t.length),o=a(t.length,n),s=0;s<t.length;s++)r(s,t[s],o)}f.encodePacket=function(t,e,n,r){"function"==typeof e&&(r=e,e=!1),"function"==typeof n&&(r=n,n=null);var i=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(t,e,n){if(!e)return f.encodeBase64Packet(t,n);var r=t.data,i=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=l[t.type];for(var s=0;s<i.length;s++)o[s+1]=i[s];return n(o.buffer)}(t,e,r);if(void 0!==g&&i instanceof g)return function(t,e,n){if(!e)return f.encodeBase64Packet(t,n);if(u)return function(t,e,n){if(!e)return f.encodeBase64Packet(t,n);var r=new FileReader;return r.onload=function(){f.encodePacket({type:t.type,data:r.result},e,!0,n)},r.readAsArrayBuffer(t.data)}(t,e,n);var r=new Uint8Array(1);r[0]=l[t.type];var i=new g([r.buffer,t.data]);return n(i)}(t,e,r);if(i&&i.base64)return function(t,e){var n="b"+f.packets[t.type]+t.data.data;return e(n)}(t,r);var o=l[t.type];return void 0!==t.data&&(o+=n?s.encode(String(t.data),{strict:!1}):String(t.data)),r(""+o)},f.encodeBase64Packet=function(e,n){var r,i="b"+f.packets[e.type];if(void 0!==g&&e.data instanceof g){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];n(i+t)},o.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var s=new Uint8Array(e.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];r=String.fromCharCode.apply(null,a)}return i+=btoa(r),n(i)},f.decodePacket=function(t,e,n){if(void 0===t)return p;if("string"==typeof t){if("b"===t.charAt(0))return f.decodeBase64Packet(t.substr(1),e);if(n&&!1===(t=function(t){try{t=s.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return p;var r=t.charAt(0);return Number(r)==r&&h[r]?1<t.length?{type:h[r],data:t.substring(1)}:{type:h[r]}:p}r=new Uint8Array(t)[0];var i=d(t,1);return g&&"blob"===e&&(i=new g([i])),{type:h[r],data:i}},f.decodeBase64Packet=function(t,e){var n=h[t.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=i.decode(t.substr(1));return"blob"===e&&g&&(r=new g([r])),{type:n,data:r}},f.encodePayload=function(t,n,r){"function"==typeof n&&(r=n,n=null);var i=o(t);if(n&&i)return g&&!u?f.encodePayloadAsBlob(t,r):f.encodePayloadAsArrayBuffer(t,r);if(!t.length)return r("0:");m(t,function(t,e){f.encodePacket(t,!!i&&n,!1,function(t){e(null,function(t){return t.length+":"+t}(t))})},function(t,e){return r(e.join(""))})},f.decodePayload=function(t,e,n){if("string"!=typeof t)return f.decodePayloadAsBinary(t,e,n);var r;if("function"==typeof e&&(n=e,e=null),""===t)return n(p,0,1);for(var i,o,s="",a=0,c=t.length;a<c;a++){var u=t.charAt(a);if(":"===u){if(""===s||s!=(i=Number(s)))return n(p,0,1);if(s!=(o=t.substr(a+1,i)).length)return n(p,0,1);if(o.length){if(r=f.decodePacket(o,e,!1),p.type===r.type&&p.data===r.data)return n(p,0,1);if(!1===n(r,a+i,c))return}a+=i,s=""}else s+=u}return""!==s?n(p,0,1):void 0},f.encodePayloadAsArrayBuffer=function(t,r){if(!t.length)return r(new ArrayBuffer(0));m(t,function(t,e){f.encodePacket(t,!0,!0,function(t){return e(null,t)})},function(t,e){var n=e.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),s=new Uint8Array(n),a=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);n=r.buffer}s[a++]=e?0:1;var o=n.byteLength.toString();for(i=0;i<o.length;i++)s[a++]=parseInt(o[i]);s[a++]=255;for(r=new Uint8Array(n),i=0;i<r.length;i++)s[a++]=r[i]}),r(s.buffer)})},f.encodePayloadAsBlob=function(t,n){m(t,function(t,a){f.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);t=n.buffer,e[0]=0}var i=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),o=new Uint8Array(i.length+1);for(r=0;r<i.length;r++)o[r]=parseInt(i[r]);if(o[i.length]=255,g){var s=new g([e.buffer,o.buffer,t]);a(null,s)}})},function(t,e){return n(new g(e))})},f.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var e=t,i=[];0<e.byteLength;){for(var o=new Uint8Array(e),s=0===o[0],a="",c=1;255!==o[c];c++){if(310<a.length)return r(p,0,1);a+=o[c]}e=d(e,2+a.length),a=parseInt(a);var u=d(e,0,a);if(s)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(t){var l=new Uint8Array(u);u="";for(c=0;c<l.length;c++)u+=String.fromCharCode(l[c])}i.push(u),e=d(e,a)}var h=i.length;i.forEach(function(t,e){r(f.decodePacket(t,n,!0),e,h)})}},{"./keys":27,"./utf8":28,after:1,"arraybuffer.slice":2,"base64-arraybuffer":4,blob:6,"has-binary2":29}],27:[function(t,e,n){e.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},{}],28:[function(t,e,n){var o,s,a,c=String.fromCharCode;function u(t){for(var e,n,r=[],i=0,o=t.length;i<o;)55296<=(e=t.charCodeAt(i++))&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function r(t,e){if(55296<=t&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function i(t,e){return c(t>>e&63|128)}function l(t,e){if(0==(4294967168&t))return c(t);var n="";return 0==(4294965248&t)?n=c(t>>6&31|192):0==(4294901760&t)?(r(t,e)||(t=65533),n=c(t>>12&15|224),n+=i(t,6)):0==(4292870144&t)&&(n=c(t>>18&7|240),n+=i(t,12),n+=i(t,6)),n+=c(63&t|128)}function h(){if(s<=a)throw Error("Invalid byte index");var t=255&o[a];if(a++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function f(t){var e,n;if(s<a)throw Error("Invalid byte index");if(a==s)return!1;if(e=255&o[a],a++,0==(128&e))return e;if(192==(224&e)){if(128<=(n=(31&e)<<6|h()))return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if(2048<=(n=(15&e)<<12|h()<<6|h()))return r(n,t)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&65536<=(n=(7&e)<<18|h()<<12|h()<<6|h())&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,r=u(t),i=r.length,o=-1,s="";++o<i;)s+=l(r[o],n);return s},decode:function(t,e){var n=!1!==(e=e||{}).strict;o=u(t),s=o.length,a=0;for(var r,i=[];!1!==(r=f(n));)i.push(r);return function(t){for(var e,n=t.length,r=-1,i="";++r<n;)65535<(e=t[r])&&(i+=c((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=c(e);return i}(i)}}},{}],29:[function(e,n,t){(function(o){var s=e("isarray"),t=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===t.call(Blob),c="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===t.call(File);n.exports=function t(e){if(!e||"object"!=typeof e)return!1;if(s(e)){for(var n=0,r=e.length;n<r;n++)if(t(e[n]))return!0;return!1}if("function"==typeof o&&o.isBuffer&&o.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||a&&e instanceof Blob||c&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0;return!1}}).call(this,e("buffer").Buffer)},{buffer:8,isarray:30}],30:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],31:[function(t,e,n){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},{}],32:[function(t,e,n){n.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;0<l;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;0<l;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=u}return(d?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),2<=(e+=1<=s+h?f/c:f*Math.pow(2,1-h))*c&&(s++,c/=2),l<=s+h?(a=0,s=l):1<=s+h?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));8<=i;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;0<u;t[n+d]=255&s,d+=p,s/=256,u-=8);t[n+d-p]|=128*g}},{}],33:[function(t,e,n){var r=[].indexOf;e.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],34:[function(t,e,n){var r=36e5,i=864e5;function o(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}e.exports=function(t,e){e=e||{};var n=typeof t;if("string"==n&&0<t.length)return function(t){if(100<(t=String(t)).length)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*i;case"hours":case"hour":case"hrs":case"hr":case"h":return n*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"==n&&!1===isNaN(t))return e.long?function(t){return o(t,i,"day")||o(t,r,"hour")||o(t,6e4,"minute")||o(t,1e3,"second")||t+" ms"}(t):function(t){if(i<=t)return Math.round(t/i)+"d";if(r<=t)return Math.round(t/r)+"h";if(6e4<=t)return Math.round(t/6e4)+"m";if(1e3<=t)return Math.round(t/1e3)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],35:[function(t,e,n){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":36,"./lib/inflate":37,"./lib/utils/common":38,"./lib/zlib/constants":41}],36:[function(t,e,n){"use strict";var s=t("./zlib/deflate"),a=t("./utils/common"),c=t("./utils/strings"),i=t("./zlib/messages"),o=t("./zlib/zstream"),u=Object.prototype.toString,l=0,h=-1,f=0,d=8;function p(t){if(!(this instanceof p))return new p(t);this.options=a.assign({level:h,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==l)throw new Error(i[n]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?c.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=s.deflateSetDictionary(this.strm,r))!==l)throw new Error(i[n]);this._dict_set=!0}}function r(t,e){var n=new p(e);if(n.push(t,!0),n.err)throw n.msg||i[n.err];return n.result}p.prototype.push=function(t,e){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=c.string2buf(t):"[object ArrayBuffer]"===u.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new a.Buf8(o),i.next_out=0,i.avail_out=o),1!==(n=s.deflate(i,r))&&n!==l)return this.onEnd(n),!(this.ended=!0);0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(c.buf2binstring(a.shrinkBuf(i.output,i.next_out))):this.onData(a.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&1!==n);return 4===r?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==r||(this.onEnd(l),!(i.avail_out=0))},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=p,n.deflate=r,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,r(t,e)}},{"./utils/common":38,"./utils/strings":39,"./zlib/deflate":43,"./zlib/messages":48,"./zlib/zstream":50}],37:[function(t,e,n){"use strict";var h=t("./zlib/inflate"),f=t("./utils/common"),d=t("./utils/strings"),p=t("./zlib/constants"),r=t("./zlib/messages"),i=t("./zlib/zstream"),o=t("./zlib/gzheader"),g=Object.prototype.toString;function s(t){if(!(this instanceof s))return new s(t);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var n=h.inflateInit2(this.strm,e.windowBits);if(n!==p.Z_OK)throw new Error(r[n]);if(this.header=new o,h.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=d.string2buf(e.dictionary):"[object ArrayBuffer]"===g.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=h.inflateSetDictionary(this.strm,e.dictionary))!==p.Z_OK))throw new Error(r[n])}function a(t,e){var n=new s(e);if(n.push(t,!0),n.err)throw n.msg||r[n.err];return n.result}s.prototype.push=function(t,e){var n,r,i,o,s,a=this.strm,c=this.options.chunkSize,u=this.options.dictionary,l=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?p.Z_FINISH:p.Z_NO_FLUSH,"string"==typeof t?a.input=d.binstring2buf(t):"[object ArrayBuffer]"===g.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new f.Buf8(c),a.next_out=0,a.avail_out=c),(n=h.inflate(a,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&u&&(n=h.inflateSetDictionary(this.strm,u)),n===p.Z_BUF_ERROR&&!0===l&&(n=p.Z_OK,l=!1),n!==p.Z_STREAM_END&&n!==p.Z_OK)return this.onEnd(n),!(this.ended=!0);a.next_out&&(0!==a.avail_out&&n!==p.Z_STREAM_END&&(0!==a.avail_in||r!==p.Z_FINISH&&r!==p.Z_SYNC_FLUSH)||("string"===this.options.to?(i=d.utf8border(a.output,a.next_out),o=a.next_out-i,s=d.buf2string(a.output,i),a.next_out=o,a.avail_out=c-o,o&&f.arraySet(a.output,a.output,i,o,0),this.onData(s)):this.onData(f.shrinkBuf(a.output,a.next_out)))),0===a.avail_in&&0===a.avail_out&&(l=!0)}while((0<a.avail_in||0===a.avail_out)&&n!==p.Z_STREAM_END);return n===p.Z_STREAM_END&&(r=p.Z_FINISH),r===p.Z_FINISH?(n=h.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===p.Z_OK):r!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(a.avail_out=0))},s.prototype.onData=function(t){this.chunks.push(t)},s.prototype.onEnd=function(t){t===p.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=s,n.inflate=a,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,a(t,e)},n.ungzip=a},{"./utils/common":38,"./utils/strings":39,"./zlib/constants":41,"./zlib/gzheader":44,"./zlib/inflate":46,"./zlib/messages":48,"./zlib/zstream":50}],38:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e,n,r=Array.prototype.slice.call(arguments,1);r.length;){var i=r.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var o in i)e=i,n=o,Object.prototype.hasOwnProperty.call(e,n)&&(t[o]=i[o])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,s;for(e=r=0,n=t.length;e<n;e++)r+=t[e].length;for(s=new Uint8Array(r),e=i=0,n=t.length;e<n;e++)o=t[e],s.set(o,i),i+=o.length;return s}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],39:[function(t,e,n){"use strict";var c=t("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var u=new c.Buf8(256),r=0;r<256;r++)u[r]=252<=r?6:248<=r?5:240<=r?4:224<=r?3:192<=r?2:1;function l(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,c.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}u[254]=u[254]=1,n.string2buf=function(t){var e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new c.Buf8(a),i=o=0;o<a;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[o++]=n:(n<2048?e[o++]=192|n>>>6:(n<65536?e[o++]=224|n>>>12:(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63),e[o++]=128|n>>>6&63),e[o++]=128|63&n);return e},n.buf2binstring=function(t){return l(t,t.length)},n.binstring2buf=function(t){for(var e=new c.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,i,o,s=e||t.length,a=new Array(2*s);for(n=r=0;n<s;)if((i=t[n++])<128)a[r++]=i;else if(4<(o=u[i]))a[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<s;)i=i<<6|63&t[n++],o--;1<o?a[r++]=65533:i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|1023&i)}return l(a,r)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+u[t[n]]>e?n:e}},{"./common":38}],40:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;o=o+(i=i+e[r++]|0)|0,--s;);i%=65521,o%=65521}return i|o<<16|0}},{}],41:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],42:[function(t,e,n){"use strict";var a=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,r){var i=a,o=r+n;t^=-1;for(var s=r;s<o;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}},{}],43:[function(t,e,n){"use strict";var c,f=t("../utils/common"),u=t("./trees"),d=t("./adler32"),p=t("./crc32"),r=t("./messages"),l=0,h=4,g=0,m=-2,_=-1,y=4,i=2,b=8,v=9,o=286,s=30,a=19,w=2*o+1,k=15,x=3,C=258,A=C+x+1,E=42,B=113,S=1,R=2,T=3,N=4;function z(t,e){return t.msg=r[e],e}function O(t){return(t<<1)-(4<t?9:0)}function F(t){for(var e=t.length;0<=--e;)t[e]=0}function L(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(f.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function I(t,e){u._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,L(t.strm)}function D(t,e){t.pending_buf[t.pending++]=e}function U(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function M(t,e){var n,r,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-A?t.strstart-(t.w_size-A):0,u=t.window,l=t.w_mask,h=t.prev,f=t.strstart+C,d=u[o+s-1],p=u[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(u[(n=e)+s]===p&&u[n+s-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(r=C-(f-o),o=f-C,s<r){if(t.match_start=e,a<=(s=r))break;d=u[o+s-1],p=u[o+s]}}}while((e=h[e&l])>c&&0!=--i);return s<=t.lookahead?s:t.lookahead}function P(t){var e,n,r,i,o,s,a,c,u,l,h=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-A)){for(f.arraySet(t.window,t.window,h,h,0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=n=t.hash_size;r=t.head[--e],t.head[e]=h<=r?r-h:0,--n;);for(e=n=h;r=t.prev[--e],t.prev[e]=h<=r?r-h:0,--n;);i+=h}if(0===t.strm.avail_in)break;if(s=t.strm,a=t.window,c=t.strstart+t.lookahead,u=i,l=void 0,l=s.avail_in,u<l&&(l=u),n=0===l?0:(s.avail_in-=l,f.arraySet(a,s.input,s.next_in,l,c),1===s.state.wrap?s.adler=d(s.adler,a,l,c):2===s.state.wrap&&(s.adler=p(s.adler,a,l,c)),s.next_in+=l,s.total_in+=l,l),t.lookahead+=n,t.lookahead+t.insert>=x)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+x-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<x)););}while(t.lookahead<A&&0!==t.strm.avail_in)}function j(t,e){for(var n,r;;){if(t.lookahead<A){if(P(t),t.lookahead<A&&e===l)return S;if(0===t.lookahead)break}if(n=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-A&&(t.match_length=M(t,n)),t.match_length>=x)if(r=u._tr_tally(t,t.strstart-t.match_start,t.match_length-x),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=x){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(I(t,!1),0===t.strm.avail_out))return S}return t.insert=t.strstart<x-1?t.strstart:x-1,e===h?(I(t,!0),0===t.strm.avail_out?T:N):t.last_lit&&(I(t,!1),0===t.strm.avail_out)?S:R}function H(t,e){for(var n,r,i;;){if(t.lookahead<A){if(P(t),t.lookahead<A&&e===l)return S;if(0===t.lookahead)break}if(n=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=x-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-A&&(t.match_length=M(t,n),t.match_length<=5&&(1===t.strategy||t.match_length===x&&4096<t.strstart-t.match_start)&&(t.match_length=x-1)),t.prev_length>=x&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-x,r=u._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-x),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=x-1,t.strstart++,r&&(I(t,!1),0===t.strm.avail_out))return S}else if(t.match_available){if((r=u._tr_tally(t,0,t.window[t.strstart-1]))&&I(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return S}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=u._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<x-1?t.strstart:x-1,e===h?(I(t,!0),0===t.strm.avail_out?T:N):t.last_lit&&(I(t,!1),0===t.strm.avail_out)?S:R}function q(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*w),this.dyn_dtree=new f.Buf16(2*(2*s+1)),this.bl_tree=new f.Buf16(2*(2*a+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(k+1),this.heap=new f.Buf16(2*o+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*o+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function X(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=i,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?E:B,t.adler=2===e.wrap?0:1,e.last_flush=l,u._tr_init(e),g):z(t,m)}function G(t){var e=X(t);return e===g&&function(t){t.window_size=2*t.w_size,F(t.head),t.max_lazy_match=c[t.level].max_lazy,t.good_match=c[t.level].good_length,t.nice_match=c[t.level].nice_length,t.max_chain_length=c[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=x-1,t.match_available=0,t.ins_h=0}(t.state),e}function Z(t,e,n,r,i,o){if(!t)return m;var s=1;if(e===_&&(e=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),i<1||v<i||n!==b||r<8||15<r||e<0||9<e||o<0||y<o)return z(t,m);8===r&&(r=9);var a=new V;return(t.state=a).strm=t,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+x-1)/x),a.window=new f.Buf8(2*a.w_size),a.head=new f.Buf16(a.hash_size),a.prev=new f.Buf16(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new f.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=o,a.method=n,G(t)}c=[new q(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(P(t),0===t.lookahead&&e===l)return S;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,I(t,!1),0===t.strm.avail_out))return S;if(t.strstart-t.block_start>=t.w_size-A&&(I(t,!1),0===t.strm.avail_out))return S}return t.insert=0,e===h?(I(t,!0),0===t.strm.avail_out?T:N):(t.strstart>t.block_start&&(I(t,!1),t.strm.avail_out),S)}),new q(4,4,8,4,j),new q(4,5,16,8,j),new q(4,6,32,32,j),new q(4,4,16,16,H),new q(8,16,32,32,H),new q(8,16,128,128,H),new q(8,32,128,256,H),new q(32,128,258,1024,H),new q(32,258,258,4096,H)],n.deflateInit=function(t,e){return Z(t,e,b,15,8,0)},n.deflateInit2=Z,n.deflateReset=G,n.deflateResetKeep=X,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?m:(t.state.gzhead=e,g):m},n.deflate=function(t,e){var n,r,i,o;if(!t||!t.state||5<e||e<0)return t?z(t,m):m;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&e!==h)return z(t,0===t.avail_out?-5:m);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===E)if(2===r.wrap)t.adler=0,D(r,31),D(r,139),D(r,8),r.gzhead?(D(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),D(r,255&r.gzhead.time),D(r,r.gzhead.time>>8&255),D(r,r.gzhead.time>>16&255),D(r,r.gzhead.time>>24&255),D(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),D(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(D(r,255&r.gzhead.extra.length),D(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=p(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(D(r,0),D(r,0),D(r,0),D(r,0),D(r,0),D(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),D(r,3),r.status=B);else{var s=b+(r.w_bits-8<<4)<<8;s|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(s|=32),s+=31-s%31,r.status=B,U(r,s),0!==r.strstart&&(U(r,t.adler>>>16),U(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(t.adler=p(t.adler,r.pending_buf,r.pending-i,i)),L(t),i=r.pending,r.pending!==r.pending_buf_size));)D(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(t.adler=p(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=p(t.adler,r.pending_buf,r.pending-i,i)),L(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,D(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(t.adler=p(t.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=p(t.adler,r.pending_buf,r.pending-i,i)),L(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,D(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(t.adler=p(t.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&L(t),r.pending+2<=r.pending_buf_size&&(D(r,255&t.adler),D(r,t.adler>>8&255),t.adler=0,r.status=B)):r.status=B),0!==r.pending){if(L(t),0===t.avail_out)return r.last_flush=-1,g}else if(0===t.avail_in&&O(e)<=O(n)&&e!==h)return z(t,-5);if(666===r.status&&0!==t.avail_in)return z(t,-5);if(0!==t.avail_in||0!==r.lookahead||e!==l&&666!==r.status){var a=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(P(t),0===t.lookahead)){if(e===l)return S;break}if(t.match_length=0,n=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(I(t,!1),0===t.strm.avail_out))return S}return t.insert=0,e===h?(I(t,!0),0===t.strm.avail_out?T:N):t.last_lit&&(I(t,!1),0===t.strm.avail_out)?S:R}(r,e):3===r.strategy?function(t,e){for(var n,r,i,o,s=t.window;;){if(t.lookahead<=C){if(P(t),t.lookahead<=C&&e===l)return S;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=x&&0<t.strstart&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=t.strstart+C;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=C-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=x?(n=u._tr_tally(t,1,t.match_length-x),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(I(t,!1),0===t.strm.avail_out))return S}return t.insert=0,e===h?(I(t,!0),0===t.strm.avail_out?T:N):t.last_lit&&(I(t,!1),0===t.strm.avail_out)?S:R}(r,e):c[r.level].func(r,e);if(a!==T&&a!==N||(r.status=666),a===S||a===T)return 0===t.avail_out&&(r.last_flush=-1),g;if(a===R&&(1===e?u._tr_align(r):5!==e&&(u._tr_stored_block(r,0,0,!1),3===e&&(F(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),L(t),0===t.avail_out))return r.last_flush=-1,g}return e!==h?g:r.wrap<=0?1:(2===r.wrap?(D(r,255&t.adler),D(r,t.adler>>8&255),D(r,t.adler>>16&255),D(r,t.adler>>24&255),D(r,255&t.total_in),D(r,t.total_in>>8&255),D(r,t.total_in>>16&255),D(r,t.total_in>>24&255)):(U(r,t.adler>>>16),U(r,65535&t.adler)),L(t),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?g:1)},n.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==E&&69!==e&&73!==e&&91!==e&&103!==e&&e!==B&&666!==e?z(t,m):(t.state=null,e===B?z(t,-3):g):m},n.deflateSetDictionary=function(t,e){var n,r,i,o,s,a,c,u,l=e.length;if(!t||!t.state)return m;if(2===(o=(n=t.state).wrap)||1===o&&n.status!==E||n.lookahead)return m;for(1===o&&(t.adler=d(t.adler,e,l,0)),n.wrap=0,l>=n.w_size&&(0===o&&(F(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new f.Buf8(n.w_size),f.arraySet(u,e,l-n.w_size,n.w_size,0),e=u,l=n.w_size),s=t.avail_in,a=t.next_in,c=t.input,t.avail_in=l,t.next_in=0,t.input=e,P(n);n.lookahead>=x;){for(r=n.strstart,i=n.lookahead-(x-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+x-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--i;);n.strstart=r,n.lookahead=x-1,P(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=x-1,n.match_available=0,t.next_in=a,t.input=c,t.avail_in=s,n.wrap=o,g},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":38,"./adler32":40,"./crc32":42,"./messages":48,"./trees":49}],44:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],45:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r,i,o,s,a,c,u,l,h,f,d,p,g,m,_,y,b,v,w,k,x,C,A,E;n=t.state,r=t.next_in,A=t.input,i=r+(t.avail_in-5),o=t.next_out,E=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,g=n.lencode,m=n.distcode,_=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(d+=A[r++]<<p,p+=8,d+=A[r++]<<p,p+=8),b=g[d&_];e:for(;;){if(d>>>=v=b>>>24,p-=v,0===(v=b>>>16&255))E[o++]=65535&b;else{if(!(16&v)){if(0==(64&v)){b=g[(65535&b)+(d&(1<<v)-1)];continue e}if(32&v){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&b,(v&=15)&&(p<v&&(d+=A[r++]<<p,p+=8),w+=d&(1<<v)-1,d>>>=v,p-=v),p<15&&(d+=A[r++]<<p,p+=8,d+=A[r++]<<p,p+=8),b=m[d&y];n:for(;;){if(d>>>=v=b>>>24,p-=v,!(16&(v=b>>>16&255))){if(0==(64&v)){b=m[(65535&b)+(d&(1<<v)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(k=65535&b,p<(v&=15)&&(d+=A[r++]<<p,(p+=8)<v&&(d+=A[r++]<<p,p+=8)),c<(k+=d&(1<<v)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=v,p-=v,(v=o-s)<k){if(l<(v=k-v)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(C=f,(x=0)===h){if(x+=u-v,v<w){for(w-=v;E[o++]=f[x++],--v;);x=o-k,C=E}}else if(h<v){if(x+=u+h-v,(v-=h)<w){for(w-=v;E[o++]=f[x++],--v;);if(x=0,h<w){for(w-=v=h;E[o++]=f[x++],--v;);x=o-k,C=E}}}else if(x+=h-v,v<w){for(w-=v;E[o++]=f[x++],--v;);x=o-k,C=E}for(;2<w;)E[o++]=C[x++],E[o++]=C[x++],E[o++]=C[x++],w-=3;w&&(E[o++]=C[x++],1<w&&(E[o++]=C[x++]))}else{for(x=o-k;E[o++]=E[x++],E[o++]=E[x++],E[o++]=E[x++],2<(w-=3););w&&(E[o++]=E[x++],1<w&&(E[o++]=E[x++]))}break}}break}}while(r<i&&o<a);r-=w=p>>3,d&=(1<<(p-=w<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=p}},{}],46:[function(t,e,n){"use strict";var R=t("../utils/common"),T=t("./adler32"),N=t("./crc32"),z=t("./inffast"),O=t("./inftrees"),F=1,L=2,I=0,D=-2,U=1,r=852,i=592;function M(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new R.Buf16(320),this.work=new R.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function s(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=U,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new R.Buf32(r),e.distcode=e.distdyn=new R.Buf32(i),e.sane=1,e.back=-1,I):D}function a(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,s(t)):D}function c(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?D:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,a(t))):D}function u(t,e){var n,r;return t?(r=new o,(t.state=r).window=null,(n=c(t,e))!==I&&(t.state=null),n):D}var l,h,f=!0;function P(t){if(f){var e;for(l=new R.Buf32(512),h=new R.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(O(F,t.lens,0,288,l,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;O(L,t.lens,0,32,h,0,t.work,{bits:5}),f=!1}t.lencode=l,t.lenbits=9,t.distcode=h,t.distbits=5}function j(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new R.Buf8(o.wsize)),r>=o.wsize?(R.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r<(i=o.wsize-o.wnext)&&(i=r),R.arraySet(o.window,e,n-r,i,o.wnext),(r-=i)?(R.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}n.inflateReset=a,n.inflateReset2=c,n.inflateResetKeep=s,n.inflateInit=function(t){return u(t,15)},n.inflateInit2=u,n.inflate=function(t,e){var n,r,i,o,s,a,c,u,l,h,f,d,p,g,m,_,y,b,v,w,k,x,C,A,E=0,B=new R.Buf8(4),S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return D;12===(n=t.state).mode&&(n.mode=13),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,h=a,f=c,x=I;t:for(;;)switch(n.mode){case U:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(2&n.wrap&&35615===u){B[n.check=0]=255&u,B[1]=u>>>8&255,n.check=N(n.check,B,2,0),l=u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&u)){t.msg="unknown compression method",n.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===n.wbits)n.wbits=k;else if(k>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<k,t.adler=n.check=1,n.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(n.flags=u,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&(B[0]=255&u,B[1]=u>>>8&255,n.check=N(n.check,B,2,0)),l=u=0,n.mode=3;case 3:for(;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&(B[0]=255&u,B[1]=u>>>8&255,B[2]=u>>>16&255,B[3]=u>>>24&255,n.check=N(n.check,B,4,0)),l=u=0,n.mode=4;case 4:for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&(B[0]=255&u,B[1]=u>>>8&255,n.check=N(n.check,B,2,0)),l=u=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&(B[0]=255&u,B[1]=u>>>8&255,n.check=N(n.check,B,2,0)),l=u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(a<(d=n.length)&&(d=a),d&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),R.arraySet(n.head.extra,r,o,d,k)),512&n.flags&&(n.check=N(n.check,r,d,o)),a-=d,o+=d,n.length-=d),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===a)break t;for(d=0;k=r[o+d++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k)),k&&d<a;);if(512&n.flags&&(n.check=N(n.check,r,d,o)),a-=d,o+=d,k)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===a)break t;for(d=0;k=r[o+d++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k)),k&&d<a;);if(512&n.flags&&(n.check=N(n.check,r,d,o)),a-=d,o+=d,k)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(u!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}l=u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}t.adler=n.check=M(u),l=u=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){u>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}switch(n.last=1&u,l-=1,3&(u>>>=1)){case 0:n.mode=14;break;case 1:if(P(n),n.mode=20,6!==e)break;u>>>=2,l-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&u,l=u=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(d=n.length){if(a<d&&(d=a),c<d&&(d=c),0===d)break t;R.arraySet(i,r,o,d,s),a-=d,o+=d,c-=d,s+=d,n.length-=d;break}n.mode=12;break;case 17:for(;l<14;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.lens[S[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[S[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},x=O(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,x){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;_=(E=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,y=65535&E,!((m=E>>>24)<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(y<16)u>>>=m,l-=m,n.lens[n.have++]=y;else{if(16===y){for(A=m+2;l<A;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(u>>>=m,l-=m,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}k=n.lens[n.have-1],d=3+(3&u),u>>>=2,l-=2}else if(17===y){for(A=m+3;l<A;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}l-=m,k=0,d=3+(7&(u>>>=m)),u>>>=3,l-=3}else{for(A=m+7;l<A;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}l-=m,k=0,d=11+(127&(u>>>=m)),u>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;d--;)n.lens[n.have++]=k}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,C={bits:n.lenbits},x=O(F,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,x){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},x=O(L,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,x){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=a&&258<=c){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,z(t,f),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;_=(E=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,y=65535&E,!((m=E>>>24)<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(_&&0==(240&_)){for(b=m,v=_,w=y;_=(E=n.lencode[w+((u&(1<<b+v)-1)>>b)])>>>16&255,y=65535&E,!(b+(m=E>>>24)<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=m,l-=m,n.back+=m,n.length=y,0===_){n.mode=26;break}if(32&_){n.back=-1,n.mode=12;break}if(64&_){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&_,n.mode=22;case 22:if(n.extra){for(A=n.extra;l<A;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;_=(E=n.distcode[u&(1<<n.distbits)-1])>>>16&255,y=65535&E,!((m=E>>>24)<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(0==(240&_)){for(b=m,v=_,w=y;_=(E=n.distcode[w+((u&(1<<b+v)-1)>>b)])>>>16&255,y=65535&E,!(b+(m=E>>>24)<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=m,l-=m,n.back+=m,64&_){t.msg="invalid distance code",n.mode=30;break}n.offset=y,n.extra=15&_,n.mode=24;case 24:if(n.extra){for(A=n.extra;l<A;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===c)break t;if(d=f-c,n.offset>d){if((d=n.offset-d)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}p=d>n.wnext?(d-=n.wnext,n.wsize-d):n.wnext-d,d>n.length&&(d=n.length),g=n.window}else g=i,p=s-n.offset,d=n.length;for(c<d&&(d=c),c-=d,n.length-=d;i[s++]=g[p++],--d;);0===n.length&&(n.mode=21);break;case 26:if(0===c)break t;i[s++]=n.length,c--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===a)break t;a--,u|=r[o++]<<l,l+=8}if(f-=c,t.total_out+=f,n.total+=f,f&&(t.adler=n.check=n.flags?N(n.check,i,f,s-f):T(n.check,i,f,s-f)),f=c,(n.flags?u:M(u))!==n.check){t.msg="incorrect data check",n.mode=30;break}l=u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(u!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}l=u=0}n.mode=29;case 29:x=1;break t;case 30:x=-3;break t;case 31:return-4;case 32:default:return D}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,(n.wsize||f!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&j(t,t.output,t.next_out,f-t.avail_out)?(n.mode=31,-4):(h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,n.total+=f,n.wrap&&f&&(t.adler=n.check=n.flags?N(n.check,i,f,t.next_out-f):T(n.check,i,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==h&&0===f||4===e)&&x===I&&(x=-5),x)},n.inflateEnd=function(t){if(!t||!t.state)return D;var e=t.state;return e.window&&(e.window=null),t.state=null,I},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?D:((n.head=e).done=!1,I):D},n.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?D:11===n.mode&&T(1,e,r,0)!==n.check?-3:j(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,I):D},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":38,"./adler32":40,"./crc32":42,"./inffast":45,"./inftrees":47}],47:[function(t,e,n){"use strict";var F=t("../utils/common"),L=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],I=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],D=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],U=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,r,i,o,s,a){var c,u,l,h,f,d,p,g,m,_=a.bits,y=0,b=0,v=0,w=0,k=0,x=0,C=0,A=0,E=0,B=0,S=null,R=0,T=new F.Buf16(16),N=new F.Buf16(16),z=null,O=0;for(y=0;y<=15;y++)T[y]=0;for(b=0;b<r;b++)T[e[n+b]]++;for(k=_,w=15;1<=w&&0===T[w];w--);if(w<k&&(k=w),0===w)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(v=1;v<w&&0===T[v];v++);for(k<v&&(k=v),y=A=1;y<=15;y++)if(A<<=1,(A-=T[y])<0)return-1;if(0<A&&(0===t||1!==w))return-1;for(N[1]=0,y=1;y<15;y++)N[y+1]=N[y]+T[y];for(b=0;b<r;b++)0!==e[n+b]&&(s[N[e[n+b]]++]=b);if(d=0===t?(S=z=s,19):1===t?(S=L,R-=257,z=I,O-=257,256):(S=D,z=U,-1),y=v,f=o,C=b=B=0,l=-1,h=(E=1<<(x=k))-1,1===t&&852<E||2===t&&592<E)return 1;for(;;){for(p=y-C,m=s[b]<d?(g=0,s[b]):s[b]>d?(g=z[O+s[b]],S[R+s[b]]):(g=96,0),c=1<<y-C,v=u=1<<x;i[f+(B>>C)+(u-=c)]=p<<24|g<<16|m|0,0!==u;);for(c=1<<y-1;B&c;)c>>=1;if(0!==c?(B&=c-1,B+=c):B=0,b++,0==--T[y]){if(y===w)break;y=e[n+s[b]]}if(k<y&&(B&h)!==l){for(0===C&&(C=k),f+=v,A=1<<(x=y-C);x+C<w&&!((A-=T[x+C])<=0);)x++,A<<=1;if(E+=1<<x,1===t&&852<E||2===t&&592<E)return 1;i[l=B&h]=k<<24|x<<16|f-o|0}}return 0!==B&&(i[f+B]=y-C<<24|64<<16|0),a.bits=k,0}},{"../utils/common":38}],48:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],49:[function(t,e,n){"use strict";var i=t("../utils/common"),a=0,c=1;function r(t){for(var e=t.length;0<=--e;)t[e]=0}var o=0,s=29,u=256,l=u+1+s,h=30,f=19,m=2*l+1,_=15,d=16,p=7,g=256,y=16,b=17,v=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=new Array(2*(l+2));r(A);var E=new Array(2*h);r(E);var B=new Array(512);r(B);var S=new Array(256);r(S);var R=new Array(s);r(R);var T,N,z,O=new Array(h);function F(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function L(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function I(t){return t<256?B[t]:B[256+(t>>>7)]}function D(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function U(t,e,n){t.bi_valid>d-n?(t.bi_buf|=e<<t.bi_valid&65535,D(t,t.bi_buf),t.bi_buf=e>>d-t.bi_valid,t.bi_valid+=n-d):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function M(t,e,n){U(t,n[2*e],n[2*e+1])}function P(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function j(t,e,n){var r,i,o=new Array(_+1),s=0;for(r=1;r<=_;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=e;i++){var a=t[2*i+1];0!==a&&(t[2*i]=P(o[a]++,a))}}function H(t){var e;for(e=0;e<l;e++)t.dyn_ltree[2*e]=0;for(e=0;e<h;e++)t.dyn_dtree[2*e]=0;for(e=0;e<f;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*g]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function q(t){8<t.bi_valid?D(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function V(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function X(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&V(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!V(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function G(t,e,n){var r,i,o,s,a=0;if(0!==t.last_lit)for(;r=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],i=t.pending_buf[t.l_buf+a],a++,0===r?M(t,i,e):(M(t,(o=S[i])+u+1,e),0!==(s=w[o])&&U(t,i-=R[o],s),M(t,o=I(--r),n),0!==(s=k[o])&&U(t,r-=O[o],s)),a<t.last_lit;);M(t,g,e)}function Z(t,e){var n,r,i,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,c=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=m,n=0;n<c;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=s[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;1<=n;n--)X(t,o,n);for(i=c;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],X(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,X(t,o,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,s,a,c=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(o=0;o<=_;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<m;n++)p<(o=c[2*c[2*(r=t.heap[n])+1]+1]+1)&&(o=p,g++),c[2*r+1]=o,u<r||(t.bl_count[o]++,s=0,d<=r&&(s=f[r-d]),a=c[2*r],t.opt_len+=a*(o+s),h&&(t.static_len+=a*(l[2*r+1]+s)));if(0!==g){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,g-=2}while(0<g);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)u<(i=t.heap[--n])||(c[2*i+1]!==o&&(t.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}(t,e),j(o,u,t.bl_count)}function K(t,e,n){var r,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=e[2*(r+1)+1],++a<c&&i===s||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*y]++):a<=10?t.bl_tree[2*b]++:t.bl_tree[2*v]++,o=i,u=(a=0)===s?(c=138,3):i===s?(c=6,3):(c=7,4))}function Y(t,e,n){var r,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=e[2*(r+1)+1],!(++a<c&&i===s)){if(a<u)for(;M(t,i,t.bl_tree),0!=--a;);else 0!==i?(i!==o&&(M(t,i,t.bl_tree),a--),M(t,y,t.bl_tree),U(t,a-3,2)):a<=10?(M(t,b,t.bl_tree),U(t,a-3,3)):(M(t,v,t.bl_tree),U(t,a-11,7));o=i,u=(a=0)===s?(c=138,3):i===s?(c=6,3):(c=7,4)}}r(O);var W=!1;function J(t,e,n,r){U(t,(o<<1)+(r?1:0),3),function(t,e,n,r){q(t),r&&(D(t,n),D(t,~n)),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}n._tr_init=function(t){W||(function(){var t,e,n,r,i,o=new Array(_+1);for(r=n=0;r<s-1;r++)for(R[r]=n,t=0;t<1<<w[r];t++)S[n++]=r;for(S[n-1]=r,r=i=0;r<16;r++)for(O[r]=i,t=0;t<1<<k[r];t++)B[i++]=r;for(i>>=7;r<h;r++)for(O[r]=i<<7,t=0;t<1<<k[r]-7;t++)B[256+i++]=r;for(e=0;e<=_;e++)o[e]=0;for(t=0;t<=143;)A[2*t+1]=8,t++,o[8]++;for(;t<=255;)A[2*t+1]=9,t++,o[9]++;for(;t<=279;)A[2*t+1]=7,t++,o[7]++;for(;t<=287;)A[2*t+1]=8,t++,o[8]++;for(j(A,l+1,o),t=0;t<h;t++)E[2*t+1]=5,E[2*t]=P(t,5);T=new F(A,w,u+1,l,_),N=new F(E,k,0,h,_),z=new F(new Array(0),x,0,f,p)}(),W=!0),t.l_desc=new L(t.dyn_ltree,T),t.d_desc=new L(t.dyn_dtree,N),t.bl_desc=new L(t.bl_tree,z),t.bi_buf=0,t.bi_valid=0,H(t)},n._tr_stored_block=J,n._tr_flush_block=function(t,e,n,r){var i,o,s=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return a;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return c;for(e=32;e<u;e++)if(0!==t.dyn_ltree[2*e])return c;return a}(t)),Z(t,t.l_desc),Z(t,t.d_desc),s=function(t){var e;for(K(t,t.dyn_ltree,t.l_desc.max_code),K(t,t.dyn_dtree,t.d_desc.max_code),Z(t,t.bl_desc),e=f-1;3<=e&&0===t.bl_tree[2*C[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?J(t,e,n,r):4===t.strategy||o===i?(U(t,2+(r?1:0),3),G(t,A,E)):(U(t,4+(r?1:0),3),function(t,e,n,r){var i;for(U(t,e-257,5),U(t,n-1,5),U(t,r-4,4),i=0;i<r;i++)U(t,t.bl_tree[2*C[i]+1],3);Y(t,t.dyn_ltree,e-1),Y(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),G(t,t.dyn_ltree,t.dyn_dtree)),H(t),r&&q(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(S[n]+u+1)]++,t.dyn_dtree[2*I(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){U(t,2,3),M(t,g,A),function(t){16===t.bi_valid?(D(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":38}],50:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],51:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},{}],52:[function(t,e,n){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));for(var i=a.exec(t||""),o={},s=14;s--;)o[c[s]]=i[s]||"";return-1!=n&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o}},{}],53:[function(t,e,n){var r,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,l=[],h=!1,f=-1;function d(){h&&u&&(h=!1,u.length?l=u.concat(l):f=-1,l.length&&p())}function p(){if(!h){var t=c(d);h=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new g(t,e)),1!==l.length||h||c(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],54:[function(t,e,n){var c=t("./url"),r=t("socket.io-parser"),u=t("./manager"),l=t("debug")("socket.io-client");e.exports=n=i;var h=n.managers={};function i(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r=c(t),i=r.source,o=r.id,s=r.path,a=h[o]&&s in h[o].nsps;return n=e.forceNew||e["force new connection"]||!1===e.multiplex||a?(l("ignoring socket cache for %s",i),u(i,e)):(h[o]||(l("new io instance for %s",i),h[o]=u(i,e)),h[o]),r.query&&!e.query&&(e.query=r.query),n.socket(r.path,e)}n.protocol=r.protocol,n.connect=i,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":55,"./socket":57,"./url":58,debug:60,"socket.io-parser":63}],55:[function(t,e,n){var c=t("engine.io-client"),o=t("./socket"),r=t("component-emitter"),i=t("socket.io-parser"),u=t("./on"),s=t("component-bind"),l=t("debug")("socket.io-client:manager"),a=t("indexof"),h=t("backo2"),f=Object.prototype.hasOwnProperty;function d(t,e){if(!(this instanceof d))return new d(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||i;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}(e.exports=d).prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},d.prototype.updateSocketIds=function(){for(var t in this.nsps)f.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},d.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},r(d.prototype),d.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},d.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},d.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(n,t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=c(this.uri,this.opts);var e=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=u(e,"open",function(){r.onopen(),n&&n()}),o=u(e,"error",function(t){if(l("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),n){var e=new Error("Connection error");e.data=t,n(e)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;l("connect attempt will timeout after %d",s);var a=setTimeout(function(){l("connect attempt timed out after %d",s),i.destroy(),e.close(),e.emit("error","timeout"),r.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(o),this},d.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(u(t,"data",s(this,"ondata"))),this.subs.push(u(t,"ping",s(this,"onping"))),this.subs.push(u(t,"pong",s(this,"onpong"))),this.subs.push(u(t,"error",s(this,"onerror"))),this.subs.push(u(t,"close",s(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",s(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(t){this.decoder.add(t)},d.prototype.ondecoded=function(t){this.emit("packet",t)},d.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},d.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new o(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",i),n.on("connect",function(){n.id=r.generateId(t)}),this.autoConnect&&i()}function i(){~a(r.connecting,n)||r.connecting.push(n)}return n},d.prototype.destroy=function(t){var e=a(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},d.prototype.packet=function(n){l("writing packet %j",n);var r=this;n.query&&0===n.type&&(n.nsp+="?"+n.query),r.encoding?r.packetBuffer.push(n):(r.encoding=!0,this.encoder.encode(n,function(t){for(var e=0;e<t.length;e++)r.engine.write(t[e],n.options);r.encoding=!1,r.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},d.prototype.cleanup=function(){l("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},d.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},{"./on":56,"./socket":57,backo2:3,"component-bind":9,"component-emitter":59,debug:60,"engine.io-client":14,indexof:33,"socket.io-parser":63}],56:[function(t,e,n){e.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},{}],57:[function(t,e,n){var i=t("socket.io-parser"),r=t("component-emitter"),o=t("to-array"),s=t("./on"),a=t("component-bind"),c=t("debug")("socket.io-client:socket"),u=t("parseqs"),l=t("has-binary2");e.exports=d;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=r.prototype.emit;function d(t,e,n){this.io=t,this.nsp=e,(this.json=this).ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},d.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},d.prototype.emit=function(t){if(h.hasOwnProperty(t))return f.apply(this,arguments),this;var e=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:l(e))?i.BINARY_EVENT:i.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},d.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},d.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},d.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},d.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===i.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},d.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?f.apply(this,e):this.receiveBuffer.push(e)},d.prototype.ack=function(e){var n=this,r=!1;return function(){if(!r){r=!0;var t=o(arguments);c("sending ack %j",t),n.packet({type:l(t)?i.BINARY_ACK:i.ACK,id:e,data:t})}}},d.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)f.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(t){return this.flags.compress=t,this},d.prototype.binary=function(t){return this.flags.binary=t,this}},{"./on":56,"component-bind":9,"component-emitter":59,debug:60,"has-binary2":29,parseqs:51,"socket.io-parser":63,"to-array":69}],58:[function(t,e,n){var i=t("parseuri"),o=t("debug")("socket.io-client:url");e.exports=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),o("parse %s",t),n=i(t));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(e&&e.port===n.port?"":":"+n.port),n}},{debug:60,parseuri:52}],59:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],60:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{"./debug":61,_process:53,dup:24}],61:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{dup:25,ms:34}],62:[function(t,e,n){var l=t("isarray"),h=t("./is-buffer"),r=Object.prototype.toString,f="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),d="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);n.deconstructPacket=function(t){var e=[],n=t.data,r=t;return r.data=function t(e,n){if(!e)return e;{if(h(e)){var r={_placeholder:!0,num:n.length};return n.push(e),r}if(l(e)){for(var i=new Array(e.length),o=0;o<e.length;o++)i[o]=t(e[o],n);return i}if("object"==typeof e&&!(e instanceof Date)){var i={};for(var s in e)i[s]=t(e[s],n);return i}}return e}(n,e),r.attachments=e.length,{packet:r,buffers:e}},n.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;{if(e&&e._placeholder)return n[e.num];if(l(e))for(var r=0;r<e.length;r++)e[r]=t(e[r],n);else if("object"==typeof e)for(var i in e)e[i]=t(e[i],n)}return e}(t.data,e),t.attachments=void 0,t},n.removeBlobs=function(t,a){var c=0,u=t;!function t(e,n,r){if(!e)return e;if(f&&e instanceof Blob||d&&e instanceof File){c++;var i=new FileReader;i.onload=function(){r?r[n]=this.result:u=this.result,--c||a(u)},i.readAsArrayBuffer(e)}else if(l(e))for(var o=0;o<e.length;o++)t(e[o],o,e);else if("object"==typeof e&&!h(e))for(var s in e)t(e[s],s,e)}(u),c||a(u)}},{"./is-buffer":64,isarray:68}],63:[function(t,e,a){var c=t("debug")("socket.io-parser"),n=t("component-emitter"),o=t("./binary"),u=t("isarray"),r=t("./is-buffer");function i(){}a.protocol=4,a.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],a.CONNECT=0,a.DISCONNECT=1,a.EVENT=2,a.ACK=3,a.ERROR=4,a.BINARY_EVENT=5,a.BINARY_ACK=6,a.Encoder=i,a.Decoder=h;var s=a.ERROR+'"encode error"';function l(t){var e=""+t.type;if(a.BINARY_EVENT!==t.type&&a.BINARY_ACK!==t.type||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data){var n=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===n)return s;e+=n}return c("encoded %j as %s",t,e),e}function h(){this.reconstructor=null}function f(t){this.reconPack=t,this.buffers=[]}function d(t){return{type:a.ERROR,data:"parser error: "+t}}i.prototype.encode=function(t,e){(c("encoding packet %j",t),a.BINARY_EVENT===t.type||a.BINARY_ACK===t.type)?function(t,i){o.removeBlobs(t,function(t){var e=o.deconstructPacket(t),n=l(e.packet),r=e.buffers;r.unshift(n),i(r)})}(t,e):e([l(t)])},n(h.prototype),h.prototype.add=function(t){var e;if("string"==typeof t)e=function(t){var e=0,n={type:Number(t.charAt(0))};if(null==a.types[n.type])return d("unknown packet type "+n.type);if(a.BINARY_EVENT===n.type||a.BINARY_ACK===n.type){for(var r="";"-"!==t.charAt(++e)&&(r+=t.charAt(e),e!=t.length););if(r!=Number(r)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===t.charAt(e+1))for(n.nsp="";++e;){if(","===(o=t.charAt(e)))break;if(n.nsp+=o,e===t.length)break}else n.nsp="/";var i=t.charAt(e+1);if(""!==i&&Number(i)==i){for(n.id="";++e;){var o;if(null==(o=t.charAt(e))||Number(o)!=o){--e;break}if(n.id+=t.charAt(e),e===t.length)break}n.id=Number(n.id)}if(t.charAt(++e)){var s=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(e));if(!(!1!==s&&(n.type===a.ERROR||u(s))))return d("invalid payload");n.data=s}return c("decoded %s as %j",t,n),n}(t),a.BINARY_EVENT===e.type||a.BINARY_ACK===e.type?(this.reconstructor=new f(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!r(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",e))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length!==this.reconPack.attachments)return null;var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":62,"./is-buffer":64,"component-emitter":65,debug:66,isarray:68}],64:[function(t,o,e){(function(e){o.exports=function(t){return n&&e.isBuffer(t)||r&&(t instanceof ArrayBuffer||i(t))};var n="function"==typeof e&&"function"==typeof e.isBuffer,r="function"==typeof ArrayBuffer,i=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}}).call(this,t("buffer").Buffer)},{buffer:8}],65:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],66:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{"./debug":67,_process:53,dup:24}],67:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{dup:25,ms:34}],68:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],69:[function(t,e,n){e.exports=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n}},{}],70:[function(t,e,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,s={},a=0,c=0;function u(t){for(var e="";e=i[t%o]+e,0<(t=Math.floor(t/o)););return e}function l(){var t=u(+new Date);return t!==r?(a=0,r=t):t+"."+u(a++)}for(;c<o;c++)s[i[c]]=c;l.encode=u,l.decode=function(t){var e=0;for(c=0;c<t.length;c++)e=e*o+s[t.charAt(c)];return e},e.exports=l},{}],71:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=a(t("dat-gui")),s=a(t("socket.io-client"));function a(t){return t&&t.__esModule?t:{default:t}}t("base64-js");var d,c,u=t("pako"),l=document.getElementById("canvas"),p=l.getContext("2d"),h=p.createImageData(l.width,l.height),g=document.createElement("canvas"),m=g.getContext("2d"),_=document.getElementById("final"),y=_.getContext("2d");window.params={depthMin:500,depthMax:1e3,size:1,finalSize:.5,area:{x:0,y:0,w:1,h:1}};var f=(r(b,[{key:"initGUI",value:function(){c=new o.default.GUI,document.querySelector(".ac").style.zIndex=1e3,c.add(params,"depthMin",500,5e3).step(1).listen().onChange(function(){d.setDepth()}),c.add(params,"depthMax",500,5e3).step(1).listen().onChange(function(){d.setDepth()}),c.add(params,"size",1,10).step(1).listen().onChange(function(){d.setDepth()}),c.add(params,"finalSize",.1,1);var t=c.addFolder("depthArea");t.add(params.area,"x",0,1).step(.01),t.add(params.area,"y",0,1).step(.01),t.add(params.area,"w",0,1).step(.01),t.add(params.area,"h",0,1).step(.01)}},{key:"setDepth",value:function(){this.socket.emit("setDepthMin",params.depthMin),this.socket.emit("setDepthMax",params.depthMax),this.socket.emit("setSize",params.size)}},{key:"depthFrame",value:function(t){for(var e=u.inflate(atob(t)),n=0,r=0;r<.5*e.length;r++){var i=(e[n+1]<<8)+e[n];0<(i=i/(params.depthMax-params.depthMin)*255)&&(i=255-i),h.data[4*r]=i,h.data[4*r+1]=i,h.data[4*r+2]=i,h.data[4*r+3]=255,n+=2}l.width=512/params.size,l.height=424/params.size,p.putImageData(h,0,0),d.drawFinal(),d.drawLine()}},{key:"drawLine",value:function(){var t=512*params.area.x/params.size,e=424*params.area.y/params.size,n=512*params.area.w/params.size,r=424*params.area.h/params.size;p.beginPath(),p.lineWidth="2",p.strokeStyle="green",p.rect(t,e,n,r),p.stroke()}},{key:"drawFinal",value:function(){var t=512*params.area.x/params.size,e=424*params.area.y/params.size,n=512*params.area.w/params.size,r=424*params.area.h/params.size,i=p.getImageData(t,e,n,r);g.width=n,g.height=r,m.clearRect(0,0,n,r),m.putImageData(i,0,0);var o=params.finalSize;_.width=n*o,_.height=r*o,y.clearRect(0,0,n,r),y.scale(o,o),y.drawImage(g,0,0,n,r);var s=y.getImageData(0,0,n*o,r*o);y.clearRect(0,0,n,r);for(var a="",c=0,u=0;u<s.data.length;u+=4){var l=s.data[u];if(s.data[u]=0,s.data[u+1]=0,s.data[u+2]=0,10<l){var h=c%Math.floor(n*o),f=Math.floor(c/(n*o));s.data[u+1]=255,""!=a&&(a+=","),a+=Math.round(h/(n*o)*100)/100+"~"+Math.round(f/(r*o)*100)/100}c++}y.putImageData(s,0,0),d.socket.emit("setDepthStr",a)}}]),b);function b(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),(d=this).initGUI(),this.socket=(0,s.default)("http://127.0.0.1:8888/"),this.socket.on("depthFrame",this.depthFrame)}n.default=f},{"base64-js":5,"dat-gui":11,pako:35,"socket.io-client":54}],72:[function(t,e,n){"use strict";var r,i=t("./Scene");new((r=i)&&r.__esModule?r:{default:r}).default},{"./Scene":71}]},{},[72]);
